<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Haksoss CafÃ© â€” Advanced Campaign Dashboard (Beachside V3.0)</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600;700;800&family=Great+Vibes&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    
    <style>
/* =====================================================
CSS START: ALEXANDRIA BEACH CAFE AESTHETIC V3.0 ğŸ–ï¸
- Palette: Mediterranean Blue, Sandstone, Sunset Gold
- Lighter, airier feel with soft shadows
- Focus on luxury and seaside elegance
===================================================== 
*/
:root{
    /* ALEXANDRIA BEACH CAFE PALETTE (Sunlit & Opulent) */
    --deep: #1A374D; /* Deep Mediterranean Blue/Navy */
    --primary-blue: #4682B4; /* Classic Steel Blue/Sea Tone */
    --muted-sand: #E6D8C8; /* Soft Sandstone/Linen */
    --accent: #FFC300; /* Warm Sunset Gold (Luxury Highlight) */
    --bg-start: #F9F5EF; /* Creamy Off-White */
    --bg-end: #FFFFFF; /* Clean White */
    --card: rgba(255, 255, 255, 0.95);
    --card-shadow: 0 12px 40px rgba(26, 55, 77, 0.1), 0 0 0 1px rgba(255, 195, 0, 0.1); /* Lighter, blue-tinted shadow with gold hint */
    --maxw: 1400px;
    --radius: 15px; /* Softer, beach-house radius */

    /* Animation Timing */
    --timing-slow: 1.2s;
    --timing-medium: 0.8s;
    --ease-out-expo: cubic-bezier(.19, 1, .22, 1);
}

/* Reset and Global Styles */
*{
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}
body{
    margin: 0;
    font-family: "Poppins", "Lato", system-ui, -apple-system, Roboto, Arial;
    color: var(--deep);
    padding: 0;
    min-height: 100vh;
    background: linear-gradient(180deg, var(--bg-start) 0%, var(--bg-end) 100%);
    opacity: 0;
    animation: bodyFadeIn var(--timing-medium) var(--ease-out-expo) forwards;
}
@keyframes bodyFadeIn {
    to { opacity: 1; }
}

a{ color: var(--primary-blue); text-decoration: none; transition: color .3s, transform .3s; }
a:hover { color: var(--accent); transform: translateY(-1px); }

/* Layout */
.wrap{ max-width: var(--maxw); margin: 0 auto; padding: 30px 40px 60px; }
.page { padding-top: 90px; } 

/* HEADER - CLEAN, BOLD, FIXED */
header.fixed-header{
    position: fixed; left: 0; right: 0; top: 0; z-index: 9999;
    background: var(--deep); /* Deep Blue */
    box-shadow: 0 4px 15px rgba(0,0,0,0.4); 
}
.header-inner{
    max-width: var(--maxw); margin: 0 auto; display: flex; align-items: center;
    justify-content: space-between; 
    padding: 15px 40px; gap: 20px;
}
.brand{ display: flex; gap: 15px; align-items: center; }
.brand img{ width: 40px; height: 40px; object-fit: cover; border-radius: 50%; background: #fff; padding: 2px; border: 2px solid var(--accent); }
.brand h1{ margin: 0; font-family: 'Playfair Display', serif; font-size: 1.5rem; color: var(--accent); font-weight: 700; letter-spacing: 1px;}
.brand p, nav.topnav { display: none; }

/* PANELS (The Core Look) - Looks like clean, elevated papers */
.panel{
    background: var(--card);
    border-radius: var(--radius);
    padding: 40px 50px;
    margin-bottom: 50px;
    box-shadow: var(--card-shadow);
    overflow: hidden; 
    border: 1px solid rgba(255, 195, 0, 0.15); /* Faint gold outline */

    /* Sophisticated Inview Animation */
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 1s var(--ease-out-expo), transform 1s var(--ease-out-expo);
}
.panel.inview{
    opacity: 1;
    transform: translateY(0);
}
.panel h2 {
    color: var(--deep);
    font-family: 'Playfair Display', serif;
    font-size: 2.5rem;
    font-weight: 700;
    padding-bottom: 15px;
    margin-bottom: 25px;
    position: relative;
}
/* Title underline effect */
.panel h2:after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 60px; 
    height: 3px;
    background: var(--primary-blue); /* Blue underline */
    border-radius: 2px;
    transition: width 1s ease-out;
}
.panel.inview h2:after {
    width: 100%; 
}

/* CASE STUDY (lead) */
.case-hero{ 
    display: flex; 
    gap: 50px; 
    align-items: center; 
    padding-bottom: 30px; 
    border-bottom: 1px solid rgba(70, 130, 180, 0.3); /* Blue separator */
}
.case-left { flex-grow: 1; }
.case-left h2{ margin: 0 0 15px; font-size: 3rem; }
.sub { color: var(--primary-blue); font-weight: 600; margin-bottom: 30px; }

/* Quick Stats - Looks like elegant data cards */
.quick-stats{ display: flex; gap: 20px; flex-wrap: wrap; margin: 30px 0; }
.stat{
    background: linear-gradient(135deg, var(--bg-end), var(--bg-start));
    padding: 25px 30px;
    border-radius: var(--radius);
    min-width: 200px;
    box-shadow: 0 8px 25px rgba(26, 55, 77, 0.1);
    transition: transform .4s var(--ease-out-expo), box-shadow .4s;
    border-left: 5px solid var(--accent); /* Sunset Gold side bar */
}
.stat:hover{
    transform: translateY(-8px);
    box-shadow: 0 15px 40px rgba(26, 55, 77, 0.2);
}
.stat .val{ color: var(--accent); font-weight: 800; font-size: 2.4rem; font-family: 'Playfair Display', serif; }
.stat .lab{ color: var(--primary-blue); font-size: 0.9rem; margin-top: 4px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }

.case-right{ width: 450px; max-width: 40%; position: relative; }
.case-right img{
    width: 100%;
    border-radius: var(--radius);
    box-shadow: 0 20px 50px rgba(0,0,0,0.2);
    border: 5px solid var(--muted-sand); /* Sand-colored frame */
    animation: floating-shadow 6s ease-in-out infinite alternate;
}

@keyframes floating-shadow {
    0% { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(70, 130, 180, 0.4); }
    100% { transform: translateY(-10px); box-shadow: 0 25px 50px rgba(255, 195, 0, 0.5); } /* Blue to Gold shift */
}

/* GALLERY - Product Grid with subtle depth */
.gallery{ display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 25px; margin-top: 30px; }
.tile{
    background: var(--bg-end);
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: 0 8px 20px rgba(26, 55, 77, 0.1);
    position: relative;
    transition: transform .4s ease, box-shadow .4s;
    border: 1px solid rgba(70, 130, 180, 0.1); /* Faint blue border */
}
.tile:hover{
    transform: scale(1.03);
    box-shadow: 0 18px 40px rgba(26, 55, 77, 0.25);
}
.tile img{ 
    width: 100%; 
    height: 220px; 
    object-fit: cover; 
    display: block; 
    transition: transform .6s ease;
}
.tile:hover img {
    transform: scale(1.05) rotate(1deg); 
}
.tile .meta{ 
    padding: 14px; 
    font-weight: 700; 
    color: var(--deep); 
    background: var(--muted-sand); /* Sand background for meta */
    font-size: 0.9rem;
    text-transform: uppercase;
}

/* TABLES - Clean, Professional Lines */
.table-wrap{ overflow: auto; margin-top: 30px; }
table{ width: 100%; border-collapse: separate; border-spacing: 0; font-size: 0.95rem; border-radius: var(--radius); overflow: hidden; }
th, td{ padding: 18px 15px; border-bottom: 1px solid rgba(70, 130, 180, 0.1); text-align: left; vertical-align: middle; }
th{ 
    background: linear-gradient(180deg, var(--primary-blue) 0%, var(--deep) 100%); 
    color: var(--bg-start); 
    font-weight: 700; 
    text-transform: uppercase; 
    letter-spacing: 0.5px;
    border-bottom: 3px solid var(--accent); /* Gold separator */
}
tr:nth-child(even) { background-color: rgba(249, 245, 239, 0.6); } /* Subtle lighter striping */

/* AI Metrics Table specific styling */
#ai-metrics .num {
    color: var(--accent);
    font-size: 1.25rem;
    font-weight: 700;
}
#ai-metrics tr td:last-child {
    font-weight: 700;
    color: var(--primary-blue);
}
#ai-metrics tr:hover {
    background-color: rgba(255, 195, 0, 0.1); /* Highlight AI impact on hover */
}

/* Chart Styles - Grouped and Elevated */
.charts{ 
    display: grid; 
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
    gap: 30px; 
    margin-top: 40px; 
}
.chart.card{ 
    padding: 30px; 
    background: var(--bg-end); 
    box-shadow: 0 5px 15px rgba(26, 55, 77, 0.05); 
    border-radius: var(--radius); 
    transition: transform .3s ease, box-shadow .3s ease;
    border: 1px solid rgba(70, 130, 180, 0.5); /* Blue border */
}
.chart.card:hover {
    transform: scale(1.01);
    box-shadow: 0 10px 25px rgba(26, 55, 77, 0.15);
}

/* Professional List Styling - Enhanced Bullet */
.professional-list {
    list-style: none;
    padding-left: 0;
    margin-top: 20px;
}
.professional-list li {
    position: relative;
    padding: 12px 0 12px 40px;
    margin-bottom: 10px;
    line-height: 1.6;
    color: var(--deep);
    background: rgba(70, 130, 180, 0.1); /* Light blue background for li */
    border-radius: 6px;
    border-left: 4px solid var(--accent); /* Sunset Gold indicator */
}
/* Bullet point styling (Coffee Bean) */
.professional-list li:before {
    content: "âš“"; /* Anchor icon for seaside feel */
    position: absolute;
    left: 10px;
    color: var(--primary-blue);
    font-size: 1.1rem;
    top: 50%;
    transform: translateY(-50%);
}

/* AI Section Specific (Focus on data) */
#ai-usage h3 {
    color: var(--primary-blue);
    font-family: 'Playfair Display', serif;
    font-size: 1.8rem;
}

/* EMAIL CARDS - More pronounced separation and animation */
.email-card-group {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 25px;
    margin-top: 30px;
}
.email-card {
    background: var(--card);
    border-radius: var(--radius);
    padding: 25px;
    box-shadow: 0 5px 15px rgba(26, 55, 77, 0.1);
    border: 1px solid rgba(255, 195, 0, 0.2); /* Faint gold border */
    transition: transform 0.4s ease, box-shadow 0.4s ease;
    
    /* Sequential Card Animation */
    opacity: 0;
    transform: translateY(20px);
    transition: all 1s var(--ease-out-expo);
}
.email-card:nth-child(2) { transition-delay: 0.1s; }
.email-card:nth-child(3) { transition-delay: 0.2s; }
.email-card:nth-child(4) { transition-delay: 0.3s; }
.email-card.inview {
    opacity: 1;
    transform: translateY(0);
}
.email-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 15px 35px rgba(26, 55, 77, 0.2);
    cursor: default;
}

.email-card .language-tag {
    font-size: 0.75rem;
    font-weight: 700;
    color: var(--bg-start);
    background: var(--deep); /* Deep Blue */
    padding: 4px 10px;
    border-radius: 4px;
    display: inline-block;
    margin-right: 10px;
    letter-spacing: 1px;
}
.email-card .metric-value {
    color: var(--accent);
    font-weight: 800;
}

/* DASHBOARD SPECIFIC STYLES */
#full-dashboard { padding: 40px 50px; }
#full-dashboard h1 { 
    font-size: 2.8rem; 
    color: var(--deep);
    border-bottom: 2px solid var(--accent);
    padding-bottom: 15px;
    margin-bottom: 40px;
}
.dashboard-section { margin-bottom: 40px; }
.currency-toggle { margin-bottom: 25px; }

.currency-toggle label {
    padding: 10px 20px;
    border: 2px solid var(--primary-blue);
    border-radius: 50px;
    color: var(--primary-blue);
    font-weight: 600;
    background: var(--bg-start);
    cursor: pointer;
    transition: all 0.3s ease;
}
.currency-toggle input[type="radio"] { display: none; }
.currency-toggle input[type="radio"]:checked + label {
    background: var(--accent);
    color: var(--deep);
    border-color: var(--accent);
    box-shadow: 0 6px 15px rgba(255, 195, 0, 0.4);
    transform: translateY(-2px);
}


/* FOOTER - Professional and Elegant */
footer{
    padding: 30px 40px;
    border-top: 1px solid rgba(255, 195, 0, 0.3);
    background: var(--deep);
    color: var(--bg-start);
    text-align: center;
}
.footer-wrap{
    max-width: var(--maxw);
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.9rem;
}
.author-name strong {
    color: var(--accent);
    font-weight: 700;
    letter-spacing: 0.5px;
    text-transform: uppercase;
}
.signature {
    font-family: 'Great Vibes', cursive;
    font-size: 38px;
    color: var(--accent);
    margin: 0;
    transition: transform .3s ease;
}
.signature:hover { transform: scale(1.05); text-shadow: 0 0 15px var(--accent); }
.footer-links a{
    color: var(--bg-start);
    transition: color 0.3s, transform 0.3s;
    font-size: 1.5rem;
}
.footer-links a:hover{
    color: var(--accent);
    transform: scale(1.2);
}
.footer-meta {
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.6);
}

/* MUSIC CONTROL - Animated Button */
#music-control {
    position: fixed;
    right: 20px;
    bottom: 20px;
    z-index: 10000;
    background: var(--accent);
    color: var(--deep);
    border: none;
    padding: 14px 22px;
    border-radius: 50px;
    box-shadow: 0 8px 30px rgba(255, 195, 0, 0.4);
    cursor: pointer;
    font-weight: 700;
    letter-spacing: 1px;
    transition: all .3s ease;
}
#music-control:hover { 
    transform: scale(1.05); 
    background: #FFD700; 
}
#music-control:active {
    transform: scale(0.95);
    box-shadow: 0 4px 15px rgba(255, 195, 0, 0.6);
}

/* MEDIA QUERIES */
@media (max-width: 900px) {
    .wrap { padding: 20px 20px 40px; }
    .header-inner { padding: 10px 20px; }
    .case-hero { flex-direction: column; gap: 30px; }
    .case-right{ width: 100%; max-width: 100%; }
    .panel { padding: 30px 20px; }
    .case-left h2{ font-size: 2.2rem; }
    .quick-stats { justify-content: space-between; }
    .stat { min-width: 48%; }
    .footer-wrap { flex-direction: column; gap: 20px; }
    .footer-meta { text-align: center; }
}
/* =====================================================
CSS END: ALEXANDRIA BEACH CAFE AESTHETIC V3.0 ğŸ–ï¸
===================================================== */
    </style>
</head>
<body>

<header class="fixed-header">
    <div class="header-inner">
        <div class="brand">
            <img src="https://i.ibb.co/6yX9G5W/haksoss-logo.jpg" alt="Haksoss CafÃ© Logo">
            <h1>HAKSOSS CAFÃ‰</h1>
        </div>
        <button id="music-control" aria-pressed="false"><i class="fas fa-play"></i> Play Music</button>
    </div>
</header>

<div class="wrap page">
    
    <section id="hero" class="panel fade-section">
        <div class="case-hero">
            <div class="case-left">
                <h2>The Haksoss Campaign: Digital Gold Standard</h2>
                <p class="sub">A multi-channel, bilingual marketing strategy driving 411% ROI and high-value loyalty sign-ups through machine learning optimization.</p>
                <div class="quick-stats">
                    <div class="stat"><span class="val">411%</span><span class="lab">Campaign ROI</span></div>
                    <div class="stat"><span class="val">1,070</span><span class="lab">Loyalty Conversions</span></div>
                    <div class="stat"><span class="val">51%</span><span class="lab">Predicted LTV Increase</span></div>
                    <div class="stat"><span class="val">5.5%</span><span class="lab">Arabic Email CTR</span></div>
                </div>
            </div>
            <div class="case-right">
                <img src="https://i.ibb.co/VMyBq91/hero-image.jpg" alt="A perfectly arranged coffee and croissant setting, representing Haksoss CafÃ© luxury.">
            </div>
        </div>
    </section>

    <section id="channel-overview" class="panel fade-section">
        <h2>Channel Performance Overview</h2>
        <div class="gallery">
            <div class="tile">
                <img src="https://i.ibb.co/Tmg24mQ/meta-ads.jpg" alt="Facebook and Instagram Ads icon">
                <div class="meta">Meta Ads (FB/IG) â€” Highest Conversions</div>
            </div>
            <div class="tile">
                <img src="https://i.ibb.co/Bnm10F1/tiktok-ads.jpg" alt="TikTok Ads icon">
                <div class="meta">TikTok â€” Lowest CAC ($1.32)</div>
            </div>
            <div class="tile">
                <img src="https://i.ibb.co/b3XpG7b/email-automation.jpg" alt="Email Automation icon">
                <div class="meta">Email Sequence â€” Highest Avg. OR (43.8%)</div>
            </div>
            <div class="tile">
                <img src="https://i.ibb.co/q7XwW12/local-seo.jpg" alt="Local SEO icon">
                <div class="meta">Local SEO â€” Low-Cost Organic Lead</div>
            </div>
        </div>
    </section>

    <section id="email-marketing" class="panel fade-section">
        <h2>Bilingual Email Marketing Sequence ğŸ“§</h2>
        <p class="muted">The six-part nurturing funnel was optimized for cultural context (Arabic) and luxurious sensory language, resulting in superior performance.</p>

        <div class="email-card-group">
            <div class="email-card">
                <h4>Ø£Ø¶ÙˆØ§Ø¡ Ù‡ÙƒØ³ÙˆØ³ (5/6)</h4>
                <span class="language-tag"><i class="fas fa-language"></i> Arabic</span>
                <p class="subject" dir="rtl" style="text-align:right;"><i class="fas fa-envelope"></i> Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹: Ù„Ù…Ø§Ø°Ø§ ÙŠØ®ØªØ§Ø± Ø§Ù„Ø¶ÙŠÙˆÙ Ù‡ÙƒØ³ÙˆØ³ØŸ</p>
                <div class="analysis" dir="rtl" style="text-align:right;">
                    <strong>Ø§Ù„Ù‡Ø¯Ù:</strong> Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø«Ù‚Ø© ÙˆØªØ±Ø³ÙŠØ® ØµÙˆØ±Ø© Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© Ø§Ù„ÙØ§Ø®Ø±Ø©.
                    Ø§Ù„ØªØ­Ù„ÙŠÙ„: Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ù‚Ø± Ù‡Ùˆ Ø§Ù„Ø£ÙØ¶Ù„ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø©ØŒ Ù…Ù…Ø§ ÙŠØ¨Ø±Ù‡Ù† Ø¹Ù„Ù‰ ÙØ¹Ø§Ù„ÙŠØ© Ø¥Ø¨Ø±Ø§Ø² ØªØ¬Ø§Ø±Ø¨ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡.
                </div>
                <div class="copy-text" dir="rtl" style="text-align:right;">Ø§ÙƒØªØ´Ù Ù„Ù…Ø§Ø°Ø§ ÙŠØ®ØªØ§Ø± Ø§Ù„Ø¶ÙŠÙˆÙ Ù‡ÙƒØ³ÙˆØ³ Ù„Ø¨Ø¯Ø¡ ÙŠÙˆÙ…Ù‡Ù… â€” Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ù„Ø¶ÙŠÙˆÙ ÙˆØªØ¬Ø§Ø±Ø¨Ù‡Ù….</div>
                <div style="margin-top:15px;">
                    <div class="metric-item"><span class="metric-label">Open Rate:</span> <span class="metric-value">43.8%</span></div>
                    <div class="metric-item"><span class="metric-label">CTR:</span> <span class="metric-value">6.1%</span></div>
                    <div class="metric-item"><span class="metric-label">Conversion Rate:</span> <span class="metric-value">3.5%</span></div>
                </div>
            </div>

            <div class="email-card">
                <h4>ØªØ°ÙƒÙŠØ± Ø´Ø±ÙˆÙ‚ Ø§Ù„Ø´Ù…Ø³ (6/6)</h4>
                <span class="language-tag"><i class="fas fa-language"></i> Arabic</span>
                <p class="subject" dir="rtl" style="text-align:right;"><i class="fas fa-envelope"></i> Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹: Ù„Ø§ ØªÙÙˆØª ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø£Ù†Ø§Ù‚Ø©</p>
                <div class="analysis" dir="rtl" style="text-align:right;">
                    <strong>Ø§Ù„Ù‡Ø¯Ù:</strong> Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¹Ø§Ù…Ù„ Ø§Ù„Ø§Ø³ØªØ¹Ø¬Ø§Ù„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ù„Ø¬Ø°Ø¨ Ø¢Ø®Ø± Ø´Ø±ÙŠØ­Ø© Ù…Ù† Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ†.
                    Ø§Ù„ØªØ­Ù„ÙŠÙ„: Ù†Ø¬Ø§Ø­ ÙÙŠ ØªØ­ØµÙŠÙ„ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø© ÙˆØªÙÙˆÙ‚ ÙÙŠ Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©.
                </div>
                <div class="copy-text" dir="rtl" style="text-align:right;">Ù„Ø§ ØªÙÙˆØª Ø§Ù„ÙØ±ØµØ© Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø£Ù†Ø§Ù‚Ø© ÙˆØ§Ù„Ù†ÙƒÙ‡Ø§Øª ÙˆØ§Ù„ÙØ®Ø§Ù…Ø© â€” Ø§Ø´ØªØ±Ùƒ ÙÙŠ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ÙˆÙ„Ø§Ø¡ Ø§Ù„Ø¢Ù†.</div>
                <div style="margin-top:15px;">
                    <div class="metric-item"><span class="metric-label">Open Rate:</span> <span class="metric-value">44.9%</span></div>
                    <div class="metric-item"><span class="metric-label">CTR:</span> <span class="metric-value">4.5%</span></div>
                    <div class="metric-item"><span class="metric-label">Conversion Rate:</span> <span class="metric-value">5.2%</span></div>
                </div>
            </div>
        </div>

        <section id="emails-strategy-analysis" style="margin-top: 50px;">
            <h3 style="margin-bottom:15px; color:var(--primary-blue);">Advanced Email Strategy & Recommendations</h3>
            <ul class="professional-list">
                <li>**Bilingual Optimization:** The Arabic sequence consistently demonstrated a **1.3% higher average CTR** and **7 more conversions per 1000 sends** compared to the English sequence, underscoring the critical need for cultural and linguistic relevance in local marketing.</li>
                <li>**Sensory Keywords:** Emails using sensory words like *'velvety,' 'aromatic,'* and *'indulgence'* achieved an average **4% higher engagement** than purely transactional emails, aligning the copy with the luxury brand aesthetic.</li>
                <li>**Loyalty Automation Funnel:** The "Loyalty Invitation" emails had the highest overall conversion rates (9.8% E / 11.1% A), confirming that segmenting users who have already shown intent into a dedicated loyalty funnel is the most profitable automation step.</li>
                <li>**Next Step: Dynamic Content:** Implement dynamic weather and time-of-day personalization within the hero email block (e.g., "Perfect for this cloudy morning") to increase Open Rate and perceived relevance.</li>
            </ul>
        </section>
    </section>

    <section id="ai-usage" class="panel fade-section">
        <h2>Algorithmic Intelligence & Predictive Modeling: The Data Edge</h2>
        <p class="muted">The campaign's superior performance was driven by a proprietary **Machine Learning (ML) framework** used for Dynamic Creative Optimization (DCO), predictive Lifetime Value (LTV) modeling, and resource allocation, ensuring maximum efficiency and profitability.</p>

        <div class="charts" style="margin-top:30px;">
            <div class="chart card"><h4 style="margin:0 0 8px; color:var(--deep)">Predicted 90-Day LTV Distribution</h4><canvas id="ltvDistributionChart"></canvas></div>
            <div class="chart card"><h4 style="margin:0 0 8px; color:var(--deep)">Cost-Per-Acquisition (CAC) Trend</h4><canvas id="cacTrendChart"></canvas></div>
        </div>

        <div class="table-wrap" id="ai-metrics" style="margin-top:40px;">
        <h3 style="margin-top:20px; margin-bottom:10px; color:var(--deep);">ML Model Performance Metrics (Comparison vs. Manual Bidding)</h3>
        <table>
        <thead>
        <tr><th>Metric</th><th>Standard (Manual Bidding)</th><th>AI/ML Optimization</th><th>Improvement</th></tr>
        </thead>
        <tbody>
        <tr><td>**Average CTR (Loyalty Ads)**</td><td>4.8%</td><td><span class="num">6.9%</span></td><td>**+43.75%**</td></tr>
        <tr><td>**Cost Per Loyalty Sign-up (CAC)**</td><td>$3.90</td><td><span class="num">$1.85</span></td><td>**-52.5%**</td></tr>
        <tr><td>**Predicted LTV of New Users**</td><td>$45.00</td><td><span class="num">$75.50</span></td><td>**+67.8%**</td></tr>
        <tr><td>**Creative Performance Split (DCO)**</td><td>55% (Top Creative)</td><td><span class="num">82% (Top Creative)</span></td><td>**DCO Efficiency**</td></tr>
        </tbody>
        </table>
        </div>

        <div style="margin-top:40px;">
            <h3 style="margin-bottom:8px; color:var(--primary-blue);">ML Implementation Focus & Outcomes</h3>
            <ul class="professional-list">
                <li class="fade-section">**Dynamic Creative Optimization (DCO):** The ML model automatically identified that visuals featuring the **Chocolate Croissant (82%)** combined with the Arabic copy generated the highest CTR. This DCO focus led to a significant reallocation of ad budget, maximizing conversions.</li>
                <li class="fade-section">**Predictive Value Bidding (PVB):** Instead of optimizing for low-cost clicks, the AI leveraged the **Predicted LTV** of a user (based on location and past behavior profiles) to bid higher for high-value customers, resulting in a 67.8% LTV increase.</li>
                <li class="fade-section">**Budget Allocation Efficiency:** The AI framework reduced the effective **Cost Per Acquisition (CAC)** by over 50% by swiftly pausing underperforming ad sets and shifting 75% of the total budget to the most efficient conversion funnels (TikTok & Meta Loyalty lead forms).</li>
                <li class="fade-section">**Retention Forecasting:** The model accurately predicted that customers acquired through the Loyalty Funnel had an **85% 90-Day Retention Rate**, far surpassing the 55% rate of standard offer customers.</li>
            </ul>
        </div>
    </section>

    <section id="seo-analysis" class="panel fade-section">
        <h2>SEO & Digital Strategy Analysis: Dominating Local Search</h2>
        <p class="muted">The campaign success was augmented by a targeted SEO strategy, focusing on high-intent local and product keywords, and a technical foundation to ensure visibility across search engines and social platforms. This ensured long-term, low-cost organic traffic beyond paid media reach.</p>

        <div style="margin-top:20px;">
        <h3 style="margin-bottom:8px">Key SEO Implementation Points</h3>
        <ul class="professional-list">
        <li>**Keyword Targeting (High-Intent Local):** Focused on "Luxury cafÃ© Alexandria," "Best morning coffee Alexandria," and "Premium breakfast Alexandria" to capture local purchase intent.</li>
        <li>**Product Focus & Schema:** Implemented dedicated SEO copy and alt text for **Hero Latte** and **Chocolate Croissant**. Critically, **Product Schema Markup** was implemented to enhance rich snippets, leading to higher click-through rates (CTR) in Search Engine Results Pages (SERPs).</li>
        <li>**Technical Foundations:** Ensured images are compressed (AVG size reduction: 45%), header structure (H1/H2) is logical, and **LocalBusiness Schema Markup** is deployed to capture 'near me' searches and improve Google My Business (GMB) visibility.</li>
        <li>**Content Cluster Strategy:** Created supplementary blog content (e.g., "7 Ways to Start a Luxury Morning in Alexandria") to build topical authority around the core theme.</li>
        </ul>
        </div>

        <div class="table-wrap" id="bilingual-performance" style="margin-top:30px;">
        <h3 style="margin-bottom:10px; color:var(--deep);">SEO Performance Metrics (Organic Traffic Focus - 30 Day Snapshot)</h3>
        <table>
        <thead>
        <tr><th>Metric</th><th>Target</th><th>Result</th><th>Analysis</th></tr>
        </thead>
        <tbody>
        <tr><td>**Overall Organic Search Traffic**</td><td>+15%</td><td>**+22%**</td><td>Exceeded target, driven by local and product keyword gains.</td></tr>
        <tr><td>**"Hero Latte" Product Page Rank**</td><td>Top 5</td><td>**#2**</td><td>Directly linked to Product Schema implementation and content depth.</td></tr>
        <tr><td>**Local Pack Impressions (GMB)**</td><td>12,000</td><td>**15,500**</td><td>Improved by optimizing GMB profile & deploying LocalBusiness Schema.</td></tr>
        <tr><td>**Average Time on Page (Blog)**</td><td>1:30 min</td><td>**2:15 min**</td><td>High engagement validates the quality of the supporting content cluster strategy.</td></tr>
        <tr><td>**Organic Conversion Rate (Loyalty Sign-up)**</td><td>1.5%</td><td>**2.1%**</td><td>Traffic quality is high (low-cost, high-intent searches).</td></tr>
        </tbody>
        </table>
        </div>

        <section id="seo-advanced-analysis" style="margin-top: 50px;">
            <h3 style="margin-bottom:15px; color:var(--primary-blue);">Detailed SEO Analysis & Path to Dominance</h3>
            <ul class="professional-list">
                <li>**Mobile-First Indexing:** Site achieved a **98/100 Mobile PageSpeed Score** after image optimization and server-side rendering review. This ensured optimal indexing and user experience on primary mobile devices.</li>
                <li>**Structured Data Impact:** The use of **Product Schema** for the Hero Latte resulted in a **$0.05 lower cost-per-conversion** for users who clicked through Rich Snippets compared to standard organic results.</li>
                <li>**Long-Tail Keyword Opportunity:** Analysis revealed a surge in searches for "best place for brunch with a view alexandria." Future content should explicitly target this long-tail, high-value phrase to capture qualified users.</li>
                <li>**Bilingual SEO Strategy:** Confirmed that maintaining distinct, culturally-optimized pages (English/Arabic) for high-value keywords is essential, as the Arabic keyword set has a **20% higher search volume** for local terms.</li>
            </ul>
        </section>
    </section>
    <section id="kpis" class="panel fade-section">
        <h2>KPIs & Performance Dashboard (Summary Charts)</h2>
        <p class="muted">A comprehensive view of campaign results, channel efficiency, and predictive customer modeling, illustrating the profitability and growth potential of the strategy.</p>

        <div class="charts">
            <div class="chart card"><h4 style="margin:0 0 8px; color:var(--deep)">Engagement Rate by Platform</h4><canvas id="engChart"></canvas></div>
            <div class="chart card"><h4 style="margin:0 0 8px; color:var(--deep)">Ad Spend Distribution</h4><canvas id="spendPie"></canvas></div>
            <div class="chart card"><h4 style="margin:0 0 8px; color:var(--deep)">Email Open Rate Trend</h4><canvas id="emailLine"></canvas></div>
            <div class="chart card"><h4 style="margin:0 0 8px; color:var(--deep)">Customer Acquisition Cost (CAC) per Channel</h4><canvas id="cacChart"></canvas></div>
            <div class="chart card"><h4 style="margin:0 0 8px; color:var(--deep)">Conversions by Channel</h4><canvas id="convBar"></canvas></div>
            <div class="chart card"><h4 style="margin:0 0 8px; color:var(--deep)">LTV to CAC Ratio (Predictive)</h4><canvas id="ltvRatio"></canvas></div>
        </div>

        <div class="table-wrap" id="core-metrics" style="margin-top:30px;">
        <h3 style="margin-bottom:10px; color:var(--deep);">Core Campaign Metrics Summary</h3>
        <table>
        <thead>
        <tr><th>Metric</th><th>Result</th><th>Notes</th></tr>
        </thead>
        <tbody>
        <tr><td>Total Reach</td><td>80,800</td><td>Combined social + ads + email</td></tr>
        <tr><td>Total Conversions</td><td>1,070 loyalty sign-ups</td><td>Key Success Metric for repeat business</td></tr>
        <tr><td>Average CAC (AI Optimized)</td><td>$2.65</td><td>32% reduction from standard bidding</td></tr>
        <tr><td>Estimated Revenue</td><td>$9,050</td><td>High-impact campaign ROI (411%)</td></tr>
        <tr><td>Avg. LTV Projection (90-Day)</td><td>$68.20</td><td>51% increase over prior average ($45.00)</td></tr>
        </tbody>
        </table>
        </div>
    </section>

    <section id="full-dashboard" class="panel fade-section">

        <h1>Haksoss CafÃ© â€” Full Financial Campaign Dashboard</h1>

        <div class="dashboard-section">
        <h2>Key Performance Indicators (KPIs)</h2>
        <table>
        <thead>
        <tr>
        <th>Metric</th>
        <th>Value</th>
        </tr>
        </thead>
        <tbody>
        <tr><td>Total Reach</td><td>120,000</td></tr>
        <tr><td>Impressions</td><td>450,000</td></tr>
        <tr><td>CTR</td><td>4.2%</td></tr>
        <tr><td>Conversions</td><td>3,500</td></tr>
        <tr><td>Conversion Rate</td><td>2.92%</td></tr>
        <tr><td>Total Revenue</td><td id="total-revenue">$48,000 / EGP 1,728,000</td></tr>
        <tr><td>Total Spend</td><td id="total-spend">$20,000 / EGP 720,000</td></tr>
        <tr><td>Overall ROI</td><td id="overall-roi">140%</td></tr>
        </tbody>
        </table>
        </div>

        <div class="dashboard-section">
        <h2>Financial Table (USD / EGP)</h2>
        <div class="currency-toggle">
        <input type="radio" id="usd-toggle" name="currency" value="USD" checked><label for="usd-toggle">USD</label>
        <input type="radio" id="egp-toggle" name="currency" value="EGP"><label for="egp-toggle">EGP</label>
        </div>
        <div class="table-wrap">
        <table id="financial-table">
        <thead>
        <tr>
        <th>Channel</th>
        <th>Spend</th>
        <th>Revenue</th>
        <th>ROI</th>
        </tr>
        </thead>
        <tbody>
        <tr><td>Facebook Ads</td><td>$7,000</td><td>$18,000</td><td></td></tr>
        <tr><td>Google Ads</td><td>$5,000</td><td>$12,500</td><td></td></tr>
        <tr><td>Influencers</td><td>$3,000</td><td>$8,000</td><td></td></tr>
        <tr><td>Email Marketing</td><td>$2,500</td><td>$5,500</td><td></td></tr>
        <tr><td>Creative Production</td><td>$2,000</td><td>$4,500</td><td></td></tr>
        <tr><td>Miscellaneous</td><td>$500</td><td>$1,500</td><td></td></tr>
        </tbody>
        </table>
        </div>
        </div>

        <div class="dashboard-section charts">
        <div class="chart card"><h4 style="margin:0 0 8px; color:var(--deep)">Spend vs Revenue by Channel</h4><canvas id="spendRevenueChart"></canvas></div>
        <div class="chart card"><h4 style="margin:0 0 8px; color:var(--deep)">ROI % by Channel</h4><canvas id="roiChart"></canvas></div>
        </div>

        <div class="dashboard-section">
        <h2>Marketing Insights & Recommendations</h2>
        <div class="table-wrap">
        <table id="insights-table">
        <thead>
        <tr>
        <th>Channel</th>
        <th>ROI</th>
        <th>Insight</th>
        <th>Recommendation</th>
        </tr>
        </thead>
        <tbody>
        <tr><td>Facebook Ads</td><td></td><td></td><td>Increase ad spend on high-performing demographics; test carousel ads.</td></tr>
        <tr><td>Google Ads</td><td></td><td></td><td>Refine keywords; reduce bids on low-converting terms.</td></tr>
        <tr><td>Influencers</td><td></td><td></td><td>Focus on top 2 influencers with highest engagement.</td></tr>
        <tr><td>Email Marketing</td><td></td><td></td><td>Segment audience further and personalize content to boost CTR.</td></tr>
        <tr><td>Creative Production</td><td></td><td></td><td>Optimize visuals based on engagement metrics.</td></tr>
        <tr><td>Miscellaneous</td><td></td><td></td><td>Monitor expenses; reallocate to high ROI channels if needed.</td></tr>
        </tbody>
        </table>
        </div>
        </div>

    </section>
    
    <section id="advanced-strategy" class="panel fade-section">
        <h2 style="color:var(--primary-blue);">Advanced Loyalty and Decentralization Strategy</h2>
        <p class="sub">This section outlines the advanced strategy to achieve market dominance through data sovereignty, personalized loyalty, and Web3 integration, future-proofing the campaign for maximum LTV.</p>

        <div style="margin-top:16px;">
        <h3 style="margin-bottom:8px; color:var(--primary-blue);">Tokenized Loyalty and Governance</h3>
        <ul class="professional-list">
        <li>Tokenized Loyalty System: The loyalty program will be migrated to issue a tradable digital token. Customers can earn and stake tokens to participate in voting on new seasonal treats, establishing them as vested community stakeholders.</li>
        <li>"Morning Elite" Access Pass: Limited-edition Non-Fungible Tokens (NFTs) will be issued to the top 100 loyalty customers, granting them lifetime VIP access and exclusive physical and digital status benefits.</li>
        </ul>
        </div>
    </section>

    <footer>
        <div class="footer-wrap">
            <div class="footer-info">
                <div class="author-name">
                    Created by <strong>Mohamed Abdelrazek</strong>
                </div>
                <div class="footer-links" aria-label="Social links">
                    <div style="display:flex; flex-direction:column; align-items:center; gap:8px;">
                        <p class="signature">Moe Abdelrazek</p>
                        <div style="display:flex; gap:10px;">
                            <a href="https://moeabdelrazek.github.io/" target="_blank" title="Moe's Portfolio" rel="noopener noreferrer">
                                <i class="fas fa-folder-open" aria-hidden="true"></i>
                                <span class="sr-only">Portfolio</span>
                            </a>
                            <a href="https://www.linkedin.com/in/moe-abdelrazek/" target="_blank" title="Moe on LinkedIn" rel="noopener noreferrer">
                                <i class="fab fa-linkedin" aria-hidden="true"></i>
                                <span class="sr-only">LinkedIn</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-meta">
                <span class="copyright">Â© 2025 Haksoss Campaign</span>
                <span class="divider">|</span>
                <span class="muted">Portfolio Presentation</span>
            </div>
        </div>
    </footer>
</div> 

<audio id="bg-music" loop>
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

<script>
/* ======================
    Intro overlay (first-visit only)
    ====================== */
(function(){
    const KEY = 'haksoss_intro_seen_v2'; // Updated key for new version
    const overlay = document.getElementById('intro-overlay');
    // NOTE: Removed the intro-overlay element from the HTML as it wasn't provided, only the logic.
    // If you add a div with id="intro-overlay" back to the HTML, this script will run.
    if (overlay) {
        document.body.classList.add('intro-active');

        function showIntro() {
            overlay.style.display = 'flex';
            // automatically hide after 3.3s
            setTimeout(() => {
                overlay.style.opacity = '0';
                overlay.style.transition = 'opacity 600ms ease';
                setTimeout(() => {
                    overlay.style.display = 'none';
                    document.body.classList.remove('intro-active');
                }, 600);
            }, 3300);
        }

        try {
            const seen = localStorage.getItem(KEY);
            if (!seen) {
                showIntro();
                localStorage.setItem(KEY, '1');
            } else {
                overlay.style.display = 'none';
                document.body.classList.remove('intro-active');
            }
        } catch(e){
            showIntro();
            document.body.classList.remove('intro-active');
        }
    }
})();

/* ======================
    Reveal on scroll (IntersectionObserver)
    ====================== */
(function(){
    const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('inview');
                entry.target.classList.add('visible');
                // We keep observing so the title underline animation can run on the panel
                if (!entry.target.classList.contains('panel')) {
                    observer.unobserve(entry.target);
                }
            }
        });
    }, { threshold: 0.1 });

    // Observe panels, tiles, stats, and email cards
    document.querySelectorAll('.panel, .tile, .stat, .fade-section, .email-card').forEach(n => observer.observe(n));
})();

/* ======================
    Charts (Chart.js) - Main Case Study Charts
    ====================== */
(function(){
    // NEW CAFE PALETTE COLORS (Mapped to new CSS variables)
    const ESPRESSO_BROWN = '#1A374D'; // Deep Blue
    const COFFEE_BROWN = '#4682B4'; // Primary Blue
    const COPPER_ACCENT = '#FFC300'; // Accent Gold
    const MUTED_SAGE = '#E6D8C8'; // Muted Sand

    // 1. Engagement Chart
    const engCtx = document.getElementById('engChart');
    if (engCtx) {
        new Chart(engCtx, {
            type: 'bar',
            data: {
                labels: ['IG Posts','IG Stories','Facebook','TikTok'],
                datasets: [{ data:[12.5,9.3,8.4,15.1], backgroundColor:[COFFEE_BROWN, ESPRESSO_BROWN, MUTED_SAGE, COPPER_ACCENT], borderRadius:4 }]
            },
            options:{ responsive:true, plugins:{legend:{display:false}}, scales:{y:{beginAtZero:true, ticks:{callback:v=>v+'%'}}} }
        });
    }

    // 2. Spend Pie
    const spendPie = document.getElementById('spendPie');
    if (spendPie) {
        new Chart(spendPie, {
            type: 'doughnut',
            data: { labels:['Meta','Google Display','TikTok'], datasets:[{ data:[850,420,500], backgroundColor:[COFFEE_BROWN, MUTED_SAGE, COPPER_ACCENT] }] },
            options:{ responsive:true }
        });
    }

    // 3. Email Line Chart (Now reflects the average trend)
    const emailLine = document.getElementById('emailLine');
    if (emailLine) {
        new Chart(emailLine, {
            type:'line',
            data:{ labels:['Morn. Awake','Sig. Indulge','Ex. Offer','Loy. Invite','Spotlight','Final Rem.'],
            datasets:[
                {
                    label: 'English Avg.',
                    data:[46.2, 42.5, 45.0, 40.5, 43.0, 44.1],
                    borderColor:COFFEE_BROWN, fill:false, tension:0.4, pointRadius:4, pointBackgroundColor: COFFEE_BROWN
                },
                {
                    label: 'Arabic Avg.',
                    data:[47.5, 43.2, 46.5, 41.0, 43.8, 44.9],
                    borderColor:COPPER_ACCENT, fill:false, tension:0.4, pointRadius:4, pointBackgroundColor: COPPER_ACCENT
                }
            ]
            },
            options:{ responsive:true, plugins:{legend:{position:'top'}}, scales:{y:{beginAtZero:true, ticks:{callback:v=>v+'%'}}} }
        });
    }

    // 4. CAC Per Channel
    const cacEl = document.getElementById('cacChart');
    if (cacEl) {
        new Chart(cacEl, {
            type: 'bar',
            data: {
                labels: ['Meta (IG/FB)', 'TikTok', 'Google Display'],
                datasets: [{
                    data: [1.65, 1.32, 4.20],
                    backgroundColor: [COFFEE_BROWN, COPPER_ACCENT, ESPRESSO_BROWN],
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { display: false },
                    tooltip: { callbacks: { label: (context) => `CAC: $${context.parsed.y.toFixed(2)}` } }
                },
                scales: { y: { beginAtZero: true } }
            }
        });
    }

    // 5. Conversions by Channel
    const convBar = document.getElementById('convBar');
    if (convBar) {
        new Chart(convBar, {
            type:'bar',
            data:{ labels:['Meta','TikTok','Email','Organic'], datasets:[{ data:[380,310,240,140], backgroundColor:[MUTED_SAGE, COPPER_ACCENT, COFFEE_BROWN, ESPRESSO_BROWN], borderRadius:4 }] },
            options:{ responsive:true, plugins:{legend:{display:false}}, scales:{y:{beginAtZero:true}} }
        });
    }

    // 6. LTV Ratio
    const ltvRatio = document.getElementById('ltvRatio');
    if (ltvRatio) {
        new Chart(ltvRatio, {
            type: 'bar',
            data: {
                labels: ['LTV:CAC Ratio'],
                datasets: [
                    {
                        label: 'Ratio (Ideal > 3)',
                        data: [25.74], // LTV $68.20 / CAC $2.65 = 25.73
                        backgroundColor: COFFEE_BROWN,
                        borderRadius: 4
                    }
                ]
            },
            options: {
                responsive: true,
                indexAxis: 'y',
                plugins: {
                    legend: { display: false },
                    title: { display: true, text: 'LTV:CAC Ratio (25.74:1) - Excellent' }
                },
                scales: {
                    x: { beginAtZero: true }
                }
            }
        });
    }
})();

// NEW AI CHARTS FUNCTIONALITY
(function(){
    const ESPRESSO_BROWN = '#1A374D'; // Deep Blue
    const COFFEE_BROWN = '#4682B4'; // Primary Blue
    const COPPER_ACCENT = '#FFC300'; // Accent Gold
    const MUTED_SAGE = '#E6D8C8'; // Muted Sand

    // Chart 1: LTV Distribution
    const ltvCtx = document.getElementById('ltvDistributionChart');
    if (ltvCtx) {
        new Chart(ltvCtx, {
            type: 'polarArea',
            data: {
                labels: ['High Value ($90+)', 'Medium Value ($50-$89)', 'Entry Value (Under $50)'],
                datasets: [{
                    data: [35, 45, 20], // Percentage of new users falling into these LTV brackets
                    backgroundColor: [COPPER_ACCENT, COFFEE_BROWN, MUTED_SAGE],
                    borderColor: 'white',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { position: 'top' },
                    title: { display: true, text: 'LTV Segment Split (High-Value Focus)' }
                },
                scales: {
                    r: { ticks: { display: false } }
                }
            }
        });
    }

    // Chart 2: CAC Trend
    const cacTrendCtx = document.getElementById('cacTrendChart');
    if (cacTrendCtx) {
        new Chart(cacTrendCtx, {
            type: 'line',
            data: {
                labels: ['Week 1 (Manual)', 'Week 2 (ML Start)', 'Week 3', 'Week 4'],
                datasets: [{
                    label: 'Avg. CAC ($)',
                    data: [3.90, 3.10, 2.20, 1.85],
                    borderColor: ESPRESSO_BROWN,
                    backgroundColor: ESPRESSO_BROWN,
                    fill: false,
                    tension: 0.3,
                    pointRadius: 6,
                    pointBackgroundColor: COPPER_ACCENT // Highlight change points
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { display: false },
                    title: { display: true, text: 'CAC Reduction Over Campaign Duration' }
                },
                scales: {
                    y: { beginAtZero: false }
                }
            }
        });
    }
})();


/* =======================================
    DASHBOARD SCRIPT (from original request)
    ======================================= */
(function(){
// Financial Data
const financialData = [
    {channel:"Facebook Ads", spend:7000, revenue:18000},
    {channel:"Google Ads", spend:5000, revenue:12500},
    {channel:"Influencers", spend:3000, revenue:8000},
    {channel:"Email Marketing", spend:2500, revenue:5500},
    {channel:"Creative Production", spend:2000, revenue:4500},
    {channel:"Miscellaneous", spend:500, revenue:1500}
];
const EGP_RATE = 36; // USD to EGP

// Elements
const ctx1 = document.getElementById('spendRevenueChart');
const ctx2 = document.getElementById('roiChart');
const insightsTable = document.getElementById('insights-table');

if (!ctx1 || !ctx2 || !insightsTable) return; // Exit if dashboard elements are missing

const chartCtx1 = ctx1.getContext('2d');
const chartCtx2 = ctx2.getContext('2d');

let spendRevenueChart;
let roiChart;

function calculateROI(revenue, spend) {
    return ((revenue - spend) / spend * 100).toFixed(1);
}

function updateFinancialTable(isUSD) {
    const tableBody = document.getElementById('financial-table').querySelector('tbody');
    const currency = isUSD ? '$' : 'EGP ';
    const rate = isUSD ? 1 : EGP_RATE;

    tableBody.querySelectorAll('tr').forEach((row, index) => {
        const data = financialData[index];
        const spend = (data.spend * rate).toLocaleString(undefined, {minimumFractionDigits: 0, maximumFractionDigits: 0});
        const revenue = (data.revenue * rate).toLocaleString(undefined, {minimumFractionDigits: 0, maximumFractionDigits: 0});
        const roi = calculateROI(data.revenue, data.spend) + '%';

        row.cells[1].textContent = currency + spend;
        row.cells[2].textContent = currency + revenue;
        row.cells[3].textContent = roi;
    });
}

function updateCharts(isUSD) {
    const labels = financialData.map(d=>d.channel);
    const spendData = financialData.map(d=>isUSD?d.spend:d.spend*EGP_RATE);
    const revenueData = financialData.map(d=>isUSD?d.revenue:d.revenue*EGP_RATE);
    const roiData = financialData.map(d=>calculateROI(d.revenue, d.spend));

    const currencySymbol = isUSD ? '$' : 'EGP ';

    // Update Spend vs Revenue Chart
    if (spendRevenueChart) {
        spendRevenueChart.data.datasets[0].data = spendData;
        spendRevenueChart.data.datasets[1].data = revenueData;
        // Use colors from the new cafe palette for this chart
        spendRevenueChart.data.datasets[0].backgroundColor = '#FFC300'; // Copper for Spend
        spendRevenueChart.data.datasets[1].backgroundColor = '#E6D8C8'; // Sage for Revenue

        spendRevenueChart.options.plugins.tooltip.callbacks.label = (context) => {
            const value = context.parsed.y.toLocaleString(undefined, {minimumFractionDigits: 0, maximumFractionDigits: 0});
            return `${context.dataset.label}: ${currencySymbol}${value}`;
        };
        spendRevenueChart.update();
    }

    // Update ROI Chart (Data doesn't change with currency, but update is needed)
    if (roiChart) {
        roiChart.data.datasets[0].data = roiData;
        roiChart.data.datasets[0].backgroundColor = '#4682B4'; // Coffee Brown (Primary Blue) for ROI
        roiChart.update();
    }


    // Update KPI Table Totals
    const totalSpendUSD = financialData.map(d=>d.spend).reduce((a,b)=>a+b,0);
    const totalRevenueUSD = financialData.map(d=>d.revenue).reduce((a,b)=>a+b,0);
    
    document.getElementById('total-spend').textContent = isUSD ? 
        `$${totalSpendUSD.toLocaleString()} / EGP ${(totalSpendUSD * EGP_RATE).toLocaleString()}` :
        `EGP ${(totalSpendUSD * EGP_RATE).toLocaleString()} / $${totalSpendUSD.toLocaleString()}`;

    document.getElementById('total-revenue').textContent = isUSD ? 
        `$${totalRevenueUSD.toLocaleString()} / EGP ${(totalRevenueUSD * EGP_RATE).toLocaleString()}` :
        `EGP ${(totalRevenueUSD * EGP_RATE).toLocaleString()} / $${totalRevenueUSD.toLocaleString()}`;

    // Update Financial Table
    updateFinancialTable(isUSD);
}


// Function to create/initialize charts
function initializeCharts() {
    // Spend vs Revenue Chart
    spendRevenueChart = new Chart(chartCtx1,{
        type:'bar',
        data:{
            labels: financialData.map(d=>d.channel),
            datasets:[
                {label:'Spend', data:financialData.map(d=>d.spend), backgroundColor:'#FFC300'}, /* Copper (Accent Gold) */
                {label:'Revenue', data:financialData.map(d=>d.revenue), backgroundColor:'#E6D8C8'} /* Sage (Muted Sand) */
            ]
        },
        options:{
            responsive:true,
            plugins:{
                legend:{position:'top'},
                title:{display:true,text:'Spend vs Revenue by Channel'},
                tooltip: {
                    callbacks: {
                            label: (context) => {
                                const value = context.parsed.y.toLocaleString();
                                return `${context.dataset.label}: $${value}`;
                            }
                    }
                }
            }
        }
    });

    // ROI Chart
    roiChart = new Chart(chartCtx2,{
        type:'bar',
        data:{
            labels: financialData.map(d=>d.channel),
            datasets:[{label:'ROI %', data:financialData.map(d=>calculateROI(d.revenue, d.spend)), backgroundColor:'#4682B4'}] /* Coffee Brown (Primary Blue) */
        },
        options:{ 
            responsive:true, 
            plugins:{ 
                legend:{display:false}, 
                title:{display:true,text:'ROI % by Channel'},
                tooltip: {
                    callbacks: {
                            label: (context) => `${context.dataset.label}: ${context.parsed.y.toFixed(1)}%`
                        }
                }
            },
            scales: {
                y: {
                    ticks: {
                        callback: (value) => value + '%'
                    }
                }
            }
        }
    });
}

// Insights Table
function updateInsights(){
    const financialRows = financialData;
    const insightsRows = insightsTable.querySelectorAll('tbody tr');

    financialRows.forEach((fRow,index)=>{
        let roi = parseFloat(calculateROI(fRow.revenue, fRow.spend));
        insightsRows[index].cells[1].textContent = roi.toFixed(1) + '%';
        if(roi>150){ insightsRows[index].cells[2].textContent='Exceptional performance â˜•ğŸ‘‘'; }
        else if(roi>100){ insightsRows[index].cells[2].textContent='Excellent performance âœ…'; }
        else if(roi>50){ insightsRows[index].cells[2].textContent='Good performance ğŸ‘'; }
        else if(roi>0){ insightsRows[index].cells[2].textContent='Moderate performance âš ï¸'; }
        else{ insightsRows[index].cells[2].textContent='Underperforming âŒ'; }
    });
}

// Currency toggle
document.querySelectorAll('#full-dashboard input[name="currency"]').forEach(radio=>{
    radio.addEventListener('change', e=>{
        const isUSD = e.target.value === 'USD';
        updateCharts(isUSD);
    });
});

// Music control
document.getElementById('music-control').addEventListener('click', function() {
    const audio = document.getElementById('bg-music');
    const icon = this.querySelector('i');
    
    if (audio.paused) {
        audio.play().then(() => {
            this.innerHTML = '<i class="fas fa-pause"></i> Pause Music';
            this.setAttribute('aria-pressed', 'true');
        }).catch(error => {
            console.warn("Autoplay was prevented. User must interact first.", error);
            this.innerHTML = '<i class="fas fa-play"></i> Play Music';
            this.setAttribute('aria-pressed', 'false');
        });
    } else {
        audio.pause();
        this.innerHTML = '<i class="fas fa-play"></i> Play Music';
        this.setAttribute('aria-pressed', 'false');
    }
});


// Initial load
initializeCharts();
updateCharts(true);
updateInsights();
})();
</script>
</body>
</html>
