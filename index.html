<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Haksoss Café — Mediterranean Sea Theme (Case Study)</title>

<meta name="description" content="Wake up to luxury with Haksoss Café. Savor our signature Hero Latte, fresh Chocolate Croissants, and seasonal treats. Premium breakfast by the sea, loyalty rewards, and elegant mornings await."/>
<meta name="keywords" content="Haksoss, Luxury café, Alexandria coffee, Hero Latte, Chocolate Croissant, loyalty program, premium breakfast">
<meta property="og:title" content="Haksoss Café — The Ultimate Luxury Morning Experience Campaign (Case Study)">
<meta property="og:description" content="Wake up to luxury with Haksoss Café. Savor our signature Hero Latte, fresh Chocolate Croissants, and seasonal treats.">
<meta property="og:image" content="3_Assets/Images/hero-latte.jpg">
<meta property="og:type" content="website">
<meta property="og:url" content="https://moeabdelrazek.github.io/">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Haksoss Café — The Ultimate Luxury Morning Experience">
<meta name="twitter:description" content="Wake up to luxury with Haksoss Café.">
<meta name="twitter:image" content="3_Assets/Images/hero-latte.jpg">

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLMD/2j/JcW8C1c7N+4B2bX8T8bF+x8Z8B/z/d7mXwYF6V8G5S2P8V7O8F5U9O4F8A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Poppins:wght@300;400;600&family=Great+Vibes&display=swap" rel="stylesheet">

<style>
/* CSS START: MEDITERRANEAN SEA CAFE AESTHETIC */
:root{
    /* MEDITERRANEAN SEA CAFE PALETTE (Blue, White, Sand) */
    --deep:#004C6D; /* Deep Sea Blue/Navy (Text & Header BG) */
    --primary-blue:#398EBF; /* Primary Mediterranean Blue */
    --muted-sand:#E9C46A; /* Muted Sand/Ochre (Subtle Contrast) */
    --accent:#F4A261; /* Warm Terracotta/Coral Sand (Highlights) */
    --bg-start:#F8F8F4; /* Clean Sand White */
    --bg-end:#E0F2F7; /* Pale Sky Blue */
    --card:rgba(255, 255, 255, 0.95);
    --card-shadow: 0 10px 20px rgba(0, 76, 109, 0.1), 0 0 0 1px rgba(57, 142, 191, 0.1); /* Blue Shadow */
    --maxw:1200px;
    --radius:16px; /* Slightly larger radius for a softer feel */

    /* BORDER CHANGES: Warmer, more tactile */
    --fancy-border-outer: 0;
    --fancy-border-inner: 0;
    --section-border: 1px solid rgba(57, 142, 191, 0.3); /* Soft Blue Line */
}

/* Reset */
*{box-sizing:border-box}
body{
    margin:0;
    font-family:"Lato", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    color:var(--deep);
    padding: 0;
    border: var(--fancy-border-outer);
    border-radius: 0;
    position: relative;
    /* MEDITERRANEAN BACKGROUND AESTHETIC */
    background:linear-gradient(180deg, var(--bg-start) 0%, var(--bg-end) 100%);
    -webkit-font-smoothing:antialiased;
    min-height: 100vh;

    /* Page fade-in */
    opacity: 0;
    animation: bodyFadeIn 900ms ease forwards;
}
@keyframes bodyFadeIn {
    to { opacity: 1; }
}

a{ color:var(--primary-blue); text-decoration:none; transition:color .3s; }
a:hover { color:var(--accent); }

/* Layout */
.wrap{ max-width:var(--maxw); margin:0 auto; padding:20px 20px 40px; }
/* HEADER MODIFICATION (Minimalist) */
header.fixed-header{
    position:fixed; left:0; right:0; top:0; z-index:9999;
    background:var(--deep);
    color:#fff;
    box-shadow:0 4px 15px rgba(0,0,0,0.4); /* Darker, richer shadow */
}
.header-inner{
    max-width:var(--maxw); margin:0 auto; display:flex; align-items:center;
    justify-content: flex-start;
    padding:10px 20px; gap:16px;
}
.brand{ display:flex; gap:12px; align-items:center; }
.brand img{ width:48px; height:48px; object-fit:cover; border-radius:8px; background:#fff; padding:4px; border: 1px solid var(--accent); }
.brand h1{ margin:0; font-family:'Playfair Display', serif; font-size:1.6rem; color: var(--accent); }
.brand p, nav.topnav { display:none; }

/* page content wrapper to offset fixed header */
.page { padding-top:80px; }

/* Panels (The Core Look) - Looks like menu/paper */
.panel{
    background:var(--card);
    border-radius:var(--radius);
    padding:40px; /* Slightly more padding for a luxurious feel */
    margin-bottom:40px;
    /* Elegant Paper/Tray Shadow */
    box-shadow: var(--card-shadow);
    /* SMOOTHER ANIMATION (slidy) */
    opacity:0;
    transform:translateY(30px);
    transition:all 1s cubic-bezier(.2,.9,.3,1.1);
    border-bottom: var(--section-border);
}
.panel:last-child {
    border-bottom: var(--section-border);
    margin-bottom: 40px;
}
.panel.inview{
    opacity:1;
    transform:translateY(0);
}
.panel h2 {
    color: var(--deep);
    font-family: 'Playfair Display', serif;
    font-size: 2.2rem; /* Slightly larger heading */
    border-bottom: 2px solid var(--primary-blue); /* Sea Blue Line */
    padding-bottom: 10px;
}

/* CASE STUDY (lead) */
.case-hero{ display:flex; gap:30px; align-items:start; }
.case-left h2{ margin:0 0 10px; font-size:2.4rem; }
.quick-stats{ display:flex; gap:20px; flex-wrap:wrap; margin:20px 0; }
/* ANIMATION: Quick Stats (Looks like small wooden plaques) */
.stat{
    background:linear-gradient(135deg, var(--bg-start), #ffffff);
    padding:20px 25px;
    border-radius:12px;
    min-width:180px;
    box-shadow:0 6px 15px rgba(0, 76, 109, 0.1);
    transition:transform .4s ease-out, box-shadow .4s;
    border: 1px solid rgba(57, 142, 191, 0.3); /* Soft Blue Border */
}
.stat:hover{
    transform:translateY(-6px); /* Subtle lift */
    box-shadow:0 15px 35px rgba(0, 76, 109, 0.2);
}
.stat .val{ color:var(--accent); font-weight:900; font-size:2rem; }
.stat .lab{ color:var(--primary-blue); font-size:1rem; margin-top:4px; font-weight: 700; }

.case-right{ width:450px; max-width:40%; position:relative; }
/* ANIMATION: Hero Image (Smooth Float) */
.case-right img{
    width:100%;
    border-radius:16px;
    box-shadow:0 20px 50px rgba(0,0,0,0.1);
    transition:all 1s cubic-bezier(.2,.9,.3,1);
    animation: floating-shadow 6s ease-in-out infinite alternate;
    border: 4px solid var(--accent); /* Thicker terracotta border */
}

@keyframes floating-shadow {
    0% { transform: translateY(-8px); box-shadow: 0 15px 40px rgba(0, 76, 109, 0.3); } /* Deep Blue Shadow */
    100% { transform: translateY(-12px); box-shadow: 0 25px 60px rgba(244, 162, 97, 0.4); } /* Terracotta Shadow */
}


/* gallery - Looks like displayed products */
.gallery{ display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:20px; margin-top:25px; }
.tile{
    background:#fff;
    border-radius:12px;
    overflow:hidden;
    box-shadow:0 10px 30px rgba(0, 76, 109, 0.08);
    position:relative;
    transition:transform .5s ease-out, box-shadow .5s;
}
/* ANIMATION: Tile Hover (Elegant) */
.tile:hover{
    transform:translateY(-8px) scale(1.02);
    box-shadow:0 20px 45px rgba(0, 76, 109, 0.2);
}
.tile img{ width:100%; height:200px; object-fit:cover; display:block; }
.tile .meta{ padding:14px; font-weight:800; color:var(--deep); background:rgba(233, 196, 106, 0.2); } /* Muted Sand background */

/* tables */
.table-wrap{ overflow:auto; margin-top:25px; }
table{ width:100%; border-collapse:collapse; font-size:1rem; }
th, td{ padding:16px 14px; border-bottom:1px solid rgba(20,30,40,0.05); text-align:left; vertical-align:top; }
th{ background:linear-gradient(180deg,var(--bg-start),#fdfdfd); color:var(--deep); font-weight:800; text-transform: uppercase; border-bottom: 3px solid var(--accent); /* Thicker terracotta line */ }
td:nth-child(3) { font-weight: 700; color: var(--primary-blue); } /* Sea Blue for key column */

/* AI Table specific styling */
#ai-metrics .num {
    color: var(--accent);
    font-size: 1.2rem;
    font-weight: 800;
}
#advanced-strategy h2 { color: var(--primary-blue); } /* Use Sea Blue for this section */

/* Chart size adjustment */
.charts{ display:grid; grid-template-columns:repeat(auto-fit, minmax(280px, 1fr)); gap:30px; margin-top:30px; }
.chart.card{ padding:25px; background:linear-gradient(135deg, #fff, var(--bg-start)); box-shadow:0 8px 20px rgba(0, 76, 109, 0.05); border-radius: var(--radius); }

/* Professional List Styling - Wave bullet */
.professional-list {
    list-style: none;
    padding-left: 0;
    margin-top: 15px;
}
.professional-list li {
    position: relative;
    padding-left: 30px;
    margin-bottom: 15px;
    line-height: 1.6;
    color: var(--deep);
}
.professional-list li:before {
    content: "🌊"; /* Wave emoji bullet */
    position: absolute;
    left: 0;
    color: var(--accent);
    font-size: 1.2rem;
    top: 0;
}

/* FOOTER STYLES */
footer{
    padding: 30px 20px;
    border-top: 1px solid rgba(57, 142, 191, 0.3); /* Soft blue line */
    background: var(--bg-start);
    color: var(--deep);
    text-align: center;
}
.footer-wrap{
    max-width: var(--maxw);
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 15px;
    align-items: center;
    font-size: 0.9rem;
    font-weight: 600;
}
.footer-info{
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
}

/* PROFESSIONAL NAME FORMAT - signature */
.author-name strong {
    color: var(--deep);
    font-weight: 800;
    font-size: 1.1em;
    letter-spacing: 0.5px;
    display: inline-block;
}

/* Footer links & signature adjustments */
.footer-links{
    display: flex;
    gap: 25px;
    margin-top: 10px;
}
.footer-links a{
    color: var(--deep);
    font-size: 1.6rem; /* Icon size used previously */
    transition: color 0.3s, transform 0.3s;
}
.footer-links a:hover{
    color: var(--accent); /* Hover effect using accent color */
    transform: scale(1.15);
}
.footer-meta {
    font-size: 0.85rem;
    color: var(--primary-blue);
}
.footer-meta .divider{
    color: var(--accent);
    margin: 0 8px;
    font-weight: 400;
}

/* Mobile Optimizations */
@media (max-width: 768px) {
    .case-hero {
        flex-direction: column;
        gap: 20px;
    }
    .case-right{
        width: 100%;
        max-width: 100%;
    }
    .panel {
        padding: 30px 20px;
    }
    .footer-wrap {
        flex-direction: column;
        gap: 10px;
    }
    .footer-meta {
        flex-direction: column;
        gap: 5px;
    }
    .footer-meta .divider {
        display: none; /* Hide vertical dividers on mobile stack */
    }
    .footer-info {
        gap: 8px;
    }
}

/* DESKTOP FOOTER LAYOUT */
@media (min-width: 768px) {
    .footer-wrap {
        flex-direction: row; /* Split to two sides */
        justify-content: space-between;
    }
    .footer-info {
        flex-direction: row;
        align-items: center;
        gap: 20px;
    }
    .footer-links {
        margin-top: 0;
    }
    .footer-meta {
        text-align: right;
        display: flex;
        align-items: center;
        gap: 5px;
    }
}

/* =========================
    ADDITIONAL ANIMATIONS
    (Cinematic, elegant)
    ========================= */

/* Fade-in on-scroll helper - used by sections + tiles + stats */
.fade-section, .tile, .stat {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 1000ms cubic-bezier(.2,.9,.3,1.1), transform 1000ms cubic-bezier(.2,.9,.3,1.1);
}
.inview, .fade-section.visible, .tile.inview, .stat.inview {
    opacity: 1;
    transform: translateY(0);
}

/* Hero breathing */
.hero-breath {
    animation: heroPulse 8s ease-in-out infinite alternate;
}
@keyframes heroPulse {
    from { transform: translateY(0) scale(1); }
    to { transform: translateY(-8px) scale(1.02); }
}

/* Intro overlay (full-screen cinematic) - Cafe welcome */
#intro-overlay {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--deep); /* Deep Sea Blue background */
    color: var(--accent);
    z-index: 99999;
    pointer-events: auto;
}
.intro-card {
    text-align:center;
    opacity: 0;
    transform: translateY(10px);
    animation: introIn 1400ms ease forwards;
}
@keyframes introIn {
    to { opacity: 1; transform: translateY(0); }
}
.intro-title {
    font-family: 'Great Vibes', cursive;
    font-size: 72px; /* A bit grander */
    color: var(--accent);
    margin: 0;
    letter-spacing: 2px;
}
.intro-tagline {
    font-family: 'Poppins', sans-serif;
    color: var(--bg-start); /* Use sand color */
    margin-top: 8px;
    letter-spacing: 3px; /* Wider spacing */
    text-transform: uppercase;
}

/* music control */
#music-control {
    position: fixed;
    right: 28px;
    bottom: 28px;
    z-index: 99999;
    background: var(--accent);
    color: var(--deep);
    border: none;
    padding: 12px 18px;
    border-radius: 999px;
    box-shadow: 0 8px 30px rgba(0, 76, 109, 0.2);
    cursor: pointer;
    font-weight: 700;
    transition: transform .3s ease, box-shadow .3s ease;
}
#music-control:hover { transform: translateY(-6px); box-shadow: 0 12px 35px rgba(0, 76, 109, 0.3); }

/* signature footer style override (Great Vibes) */
.signature {
    font-family: 'Great Vibes', cursive;
    font-size: 34px;
    color: var(--accent);
    margin: 0;
    transition: transform .25s ease;
}
.signature:hover { transform: scale(1.05); text-shadow: 0 0 12px rgba(244, 162, 97, 0.8); }

/* small adjustments for charts and containers inside panels (preserve original layout) */
.charts { margin-top: 30px; }
.panel .chart { margin-top: 15px; }

/* ensure high z for header while intro is active */
body.intro-active header.fixed-header { z-index: 100000; pointer-events: none; }

/* accessibility focus */
a:focus, button:focus { outline: 3px solid rgba(57, 142, 191, 0.5); outline-offset: 4px; }

/* =======================================
    DASHBOARD OVERRIDES (for integration)
    ======================================= */
/* Scoping styles to the new dashboard section */
#full-dashboard {
    /* Use main file's panel styling */
}
#full-dashboard table {
    border: none; /* Remove table borders to follow main file's style */
    margin-bottom: 20px;
}
#full-dashboard th, #full-dashboard td {
    border: 1px solid rgba(57, 142, 191, 0.2); /* Sea blue faint border */
    padding: 12px;
    text-align: center;
}
#full-dashboard th {
    background: var(--primary-blue);
    color: var(--bg-start);
    border-bottom: 3px solid var(--accent);
}
#full-dashboard canvas {
    max-width: 100%;
    margin-bottom: 30px;
}
.dashboard-section { margin-bottom: 35px; }

/* Currency Toggle Styling (more physical feel) */
.currency-toggle {
    margin-bottom: 15px;
    display: flex;
    gap: 20px;
    justify-content: flex-end;
}
.currency-toggle label {
    padding: 8px 15px;
    border: 1px solid var(--primary-blue);
    border-radius: 8px;
    cursor: pointer;
    font-weight: 700;
    color: var(--primary-blue);
    background: #fff;
    transition: all 0.3s ease;
}
.currency-toggle input[type="radio"] {
    display: none;
}
.currency-toggle input[type="radio"]:checked + label {
    background: var(--accent);
    color: var(--deep);
    border-color: var(--accent);
    box-shadow: 0 4px 10px rgba(244, 162, 97, 0.3);
    transform: translateY(-2px);
}

/* =======================================
    EMAIL CARD NEW STYLES (Requested Improvement)
    ======================================= */
.email-card-group {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 25px;
    margin-top: 30px;
}
.email-card {
    background: var(--card);
    border-radius: var(--radius);
    padding: 25px;
    box-shadow: 0 5px 15px rgba(0, 76, 109, 0.1);
    border: 1px solid rgba(57, 142, 191, 0.2);
    transition: transform 0.4s ease, box-shadow 0.4s ease;

    /* Animation */
    opacity: 0;
    transform: translateY(20px);
    transition: all 1s cubic-bezier(.2,.9,.3,1.1);
}
.email-card.inview {
    opacity: 1;
    transform: translateY(0);
}
.email-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 15px 35px rgba(0, 76, 109, 0.2);
    cursor: pointer;
}
.email-card h4 {
    margin: 0 0 10px;
    color: var(--deep);
    font-size: 1.25rem;
    font-family: 'Playfair Display', serif;
    border-bottom: 2px solid var(--muted-sand);
    padding-bottom: 5px;
}
.email-card .language-tag {
    font-size: 0.8rem;
    font-weight: 700;
    color: var(--bg-start);
    background: var(--primary-blue);
    padding: 3px 8px;
    border-radius: 4px;
    display: inline-block;
    margin-right: 10px;
}
.email-card .subject {
    font-style: italic;
    color: var(--deep);
    margin: 8px 0;
    font-size: 1.05rem;
    font-weight: 600;
}
.email-card .copy-text {
    background: rgba(233, 196, 106, 0.1); /* Muted Sand Light */
    padding: 15px;
    border-radius: 8px;
    font-size: 0.9rem;
    margin-top: 15px;
    border-left: 3px solid var(--accent);
}
.email-card .analysis {
    margin-top: 15px;
    padding: 10px;
    background: var(--bg-start);
    border-radius: 8px;
    font-size: 0.85rem;
    color: var(--deep);
    border: 1px dashed rgba(57, 142, 191, 0.4);
}
.email-card .analysis strong {
    color: var(--primary-blue);
    display: block;
    margin-bottom: 3px;
}
.email-card .metric-item {
    display: flex;
    justify-content: space-between;
    padding: 5px 0;
    border-bottom: 1px dashed rgba(0, 76, 109, 0.1);
    font-size: 0.95rem;
}
.email-card .metric-label {
    color: var(--primary-blue);
    font-weight: 600;
}
.email-card .metric-value {
    color: var(--accent);
    font-weight: 800;
}
.email-card .metric-item:last-child {
    border-bottom: none;
}
/* CSS END: MEDITERRANEAN SEA CAFE AESTHETIC */
</style>
</head>
<body>
<div id="intro-overlay" aria-hidden="true">
    <div class="intro-card" role="dialog" aria-label="Haksoss introduction">
        <h1 class="intro-title">Haksoss Café</h1>
        <p class="intro-tagline">Azure Mornings in Alexandria</p>
    </div>
</div>

<audio id="bg-music" loop preload="auto" style="display:none">
    </audio>
<button id="music-control" aria-pressed="false" title="Play background music">Play Music</button>

<header class="fixed-header" role="banner">
    <div class="header-inner">
        <div class="brand">
            <img src="3_Assets/Logo/logo.png" alt="Haksoss café logo">
            <div>
                <h1 class="site-title">Haksoss — Azure Morning Campaign</h1>
            </div>
        </div>
    </div>
</header>

<div class="page">
<div class="wrap">

<section id="case" class="panel inview">
<div class="case-hero">
<div class="case-left">
<h2>Haksoss Café — Elevate Your Mornings: Full Case Study</h2>
<p class="sub">Campaign Title: **“Wake Up with Luxury in Alexandria”**<br>
Purpose: Establish Haksoss as Alexandria’s premium morning destination through bilingual, sensory storytelling, high-end visuals, and a loyalty-led conversion strategy.</p>

<div class="quick-stats">
<div class="stat"><div class="val">80,800</div><div class="lab">Total Reach</div></div>
<div class="stat"><div class="val">1,070</div><div class="lab">Loyalty Sign-ups</div></div>
<div class="stat"><div class="val">11.3%</div><div class="lab">Avg Engagement Rate</div></div>
<div class="stat"><div class="val">411%</div><div class="lab">Overall Campaign ROI</div></div>
</div>

<div style="margin-top:20px;">
<h3 style="margin-bottom:8px">Executive Summary</h3>
<p class="muted">Haksoss Café executed a visual-first, bilingual campaign centered on the signature **Hero Latte** and **Chocolate Croissant**. The strategy integrated targeted ads across Meta and TikTok with a loyalty-driven email automation sequence, resulting in a measurable lift in morning footfall and a high return on investment.</p>
</div>
</div>

<div class="case-right">
<img src="3_Assets/Images/hero-latte.jpg" alt="Hero Latte coffee by the sea at Haksoss Café">
</div>
</div>
</section>

<section id="creative" class="panel fade-section">
<h2>Creative Execution & Visual Assets (Photo Gallery)</h2>
<p class="muted">All campaign visuals and templates used across posts, stories, and ads—optimized for morning light and high-end aesthetic.</p>

<div class="gallery" aria-hidden>
<div class="tile"><img src="3_Assets/Images/hero-latte.jpg" alt="Hero Latte coffee"><div class="meta">hero-latte.jpg</div></div>
<div class="tile"><img src="3_Assets/Images/chocolate-croissant.jpg" alt="Freshly baked chocolate croissant"><div class="meta">chocolate-croissant.jpg</div></div>
<div class="tile"><img src="3_Assets/Images/seasonal-treat.jpg" alt="Seasonal breakfast treat"><div class="meta">seasonal-treat.jpg</div></div>
<div class="tile"><img src="3_Assets/Images/special-latte.jpg" alt="Special latte creation"><div class="meta">special-latte.jpg</div></div>
<div class="tile"><img src="3_Assets/Images/special-offer.jpg" alt="Special offer on lattes"><div class="meta">special-offer.jpg</div></div>
<div class="tile"><img src="3_Assets/Images/loyalty-program.jpg" alt="Haksoss Loyalty Program benefits"><div class="meta">loyalty-program.jpg</div></div>

<div class="tile"><img src="3_Assets/1_Templates/hero_latte_post.png" alt="Hero Latte social media template"><div class="meta">hero_latte_post.png (template)</div></div>
<div class="tile"><img src="3_Assets/1_Templates/special_latte.png" alt="Special latte social media template"><div class="meta">special_latte.png (template)</div></div>
<div class="tile"><img src="3_Assets/1_Templates/season_offer.png" alt="Seasonal offer social media template"><div class="meta">season_offer.png (template)</div></div>
<div class="tile"><img src="3_Assets/1_Templates/haksoss_post.png" alt="Haksoss brand post template"><div class="meta">haksoss_post.png (template)</div></div>
<div class="tile"><img src="3_Assets/1_Templates/discover_more.png" alt="Discover more carousel template"><div class="meta">discover_more.png (template)</div></div>
</div>
</section>

<section id="emails" class="panel fade-section">
<h2>Emails — Full Campaign Sequence & Performance Analysis</h2>
<p class="muted">Copy-ready email content used in the campaign, optimized for open rate and intent. Click/hover on a card for full details.</p>

<div class="email-card-group">

    <div class="email-card">
        <h4>Morning Awakening (1/6)</h4>
        <span class="language-tag"><i class="fas fa-globe"></i> English</span>
        <p class="subject"><i class="fas fa-envelope"></i> Subject: Wake up with the perfect cup</p>
        <div class="analysis">
            <strong>Goal:</strong> Establish Haksoss as the essential start to the day. High-intent keyword inclusion ('morning').
            Analysis: Highest open rate due to first-email novelty and strong subject line focus.
        </div>
        <div class="copy-text">Wake up with the perfect cup and embrace the serenity of Alexandria’s beach mornings. Haksoss brings luxury and flavor together.</div>
        <div style="margin-top:15px;">
            <div class="metric-item"><span class="metric-label">Open Rate:</span> <span class="metric-value">46.2%</span></div>
            <div class="metric-item"><span class="metric-label">CTR:</span> <span class="metric-value">4.1%</span></div>
            <div class="metric-item"><span class="metric-label">Conversion Rate:</span> <span class="metric-value">2.5%</span></div>
        </div>
    </div>

    <div class="email-card">
        <h4>Signature Indulgence (2/6)</h4>
        <span class="language-tag"><i class="fas fa-globe"></i> English</span>
        <p class="subject"><i class="fas fa-envelope"></i> Subject: Mornings deserve indulgence</p>
        <div class="analysis">
            <strong>Goal:</strong> Showcase primary products (Hero Latte & Croissant) using rich, sensory language (Velvety, Aromatic).
            Analysis: Strong engagement, validating the use of emotional/sensory copy over generic product listings.
        </div>
        <div class="copy-text">At Haksoss, we believe that mornings deserve moments of pure indulgence. Let us take you on a journey of taste, aroma, and elegance.<br>• **Hero Latte**: Velvety, aromatic, perfect balance.<br>• **Chocolate Croissant**: Layers of buttery pastry with rich chocolate.</div>
        <div style="margin-top:15px;">
            <div class="metric-item"><span class="metric-label">Open Rate:</span> <span class="metric-value">42.5%</span></div>
            <div class="metric-item"><span class="metric-label">CTR:</span> <span class="metric-value">5.8%</span></div>
            <div class="metric-item"><span class="metric-label">Conversion Rate:</span> <span class="metric-value">3.2%</span></div>
        </div>
    </div>

    <div class="email-card">
        <h4>Exclusive Offer (3/6)</h4>
        <span class="language-tag"><i class="fas fa-globe"></i> English</span>
        <p class="subject"><i class="fas fa-envelope"></i> Subject: Limited-time morning upgrade</p>
        <div class="analysis">
            <strong>Goal:</strong> Drive immediate footfall using scarcity (limited-time) and value-adds (free upgrade, 50% off).
            Analysis: High conversion rate per click (CPC) driven by strong financial incentive.
        </div>
        <div class="copy-text">Delight in our limited-time offer to elevate your mornings.<br>• Hero Latte Experience: Complimentary upgrade with any latte.<br>• Chocolate Croissant Delight: Second croissant 50% off.</div>
        <div style="margin-top:15px;">
            <div class="metric-item"><span class="metric-label">Open Rate:</span> <span class="metric-value">45.0%</span></div>
            <div class="metric-item"><span class="metric-label">CTR:</span> <span class="metric-value">4.5%</span></div>
            <div class="metric-item"><span class="metric-label">Conversion Rate:</span> <span class="metric-value">6.1%</span></div>
        </div>
    </div>

    <div class="email-card">
        <h4>Loyalty Invitation (4/6)</h4>
        <span class="language-tag"><i class="fas fa-globe"></i> English</span>
        <p class="subject"><i class="fas fa-envelope"></i> Subject: Join Haksoss Loyalty: Unlock VIP Status</p>
        <div class="analysis">
            <strong>Goal:</strong> Convert engaged users into lifetime loyalty members. Focus on long-term benefits (Rewards, Early Access).
            Analysis: Lower Open Rate, but the highest Conversion Rate, proving high intent from subscribers who reach this stage.
        </div>
        <div class="copy-text">Elevate your mornings with Haksoss Loyalty.<br>• Points on Every Purchase: Earn rewards.<br>• Early Access: Discover new offerings first.<br>• Exclusive Events: Private tastings, workshops, beach gatherings.</div>
        <div style="margin-top:15px;">
            <div class="metric-item"><span class="metric-label">Open Rate:</span> <span class="metric-value">40.5%</span></div>
            <div class="metric-item"><span class="metric-label">CTR:</span> <span class="metric-value">6.5%</span></div>
            <div class="metric-item"><span class="metric-label">Conversion Rate:</span> <span class="metric-value">9.8%</span></div>
        </div>
    </div>

    <div class="email-card">
        <h4>Haksoss Spotlight (5/6)</h4>
        <span class="language-tag"><i class="fas fa-globe"></i> English</span>
        <p class="subject"><i class="fas fa-envelope"></i> Subject: Why guests choose Haksoss (Social Proof)</p>
        <div class="analysis">
            <strong>Goal:</strong> Use social proof (testimonials) to build trust and overcome any remaining hesitation.
            Analysis: Excellent CTR indicates high interest in peer-driven content.
        </div>
        <div class="copy-text">Discover why guests choose Haksoss to start their day. "The Hero Latte is perfection in a cup." – Sarah A.</div>
        <div style="margin-top:15px;">
            <div class="metric-item"><span class="metric-label">Open Rate:</span> <span class="metric-value">43.0%</span></div>
            <div class="metric-item"><span class="metric-label">CTR:</span> <span class="metric-value">5.3%</span></div>
            <div class="metric-item"><span class="metric-label">Conversion Rate:</span> <span class="metric-value">2.8%</span></div>
        </div>
    </div>

    <div class="email-card">
        <h4>Final Sunrise Reminder (6/6)</h4>
        <span class="language-tag"><i class="fas fa-globe"></i> English</span>
        <p class="subject"><i class="fas fa-envelope"></i> Subject: Don’t miss the morning elegance</p>
        <div class="analysis">
            <strong>Goal:</strong> Final urgency trigger to capture remaining unconverted subscribers before the campaign phase ends.
            Analysis: Good final boost in conversion from last-chance framing.
        </div>
        <div class="copy-text">Don’t miss the chance to experience elegance and flavor—subscribe to the loyalty program now.</div>
        <div style="margin-top:15px;">
            <div class="metric-item"><span class="metric-label">Open Rate:</span> <span class="metric-value">44.0%</span></div>
            <div class="metric-item"><span class="metric-label">CTR:</span> <span class="metric-value">4.0%</span></div>
            <div class="metric-item"><span class="metric-label">Conversion Rate:</span> <span class="metric-value">4.5%</span></div>
        </div>
    </div>

    <div class="email-card">
        <h4>استيقاظ الصباح (1/6)</h4>
        <span class="language-tag"><i class="fas fa-language"></i> Arabic</span>
        <p class="subject" dir="rtl" style="text-align:right;"><i class="fas fa-envelope"></i> الموضوع: ابدأ صباحك مع الكوب المثالي</p>
        <div class="analysis" dir="rtl" style="text-align:right;">
            <strong>الهدف:</strong> ترسيخ هكسوس كبداية أساسية لليوم. إدراج الكلمات الرئيسية عالية القصد مثل الصباح الباكر في الإسكندرية.
        </div>
        <div class="copy-text" dir="rtl" style="text-align:right;">ابدأ صباحك مع الكوب المثالي واستمتع بهدوء شواطئ الإسكندرية. هكسوس يجمع بين الفخامة والنكهات.</div>
        <div style="margin-top:15px;">
            <div class="metric-item"><span class="metric-label">Open Rate:</span> <span class="metric-value">47.5%</span></div>
            <div class="metric-item"><span class="metric-label">CTR:</span> <span class="metric-value">5.1%</span></div>
            <div class="metric-item"><span class="metric-label">Conversion Rate:</span> <span class="metric-value">3.1%</span></div>
        </div>
    </div>

    <div class="email-card">
        <h4>المتعة المميزة (2/6)</h4>
        <span class="language-tag"><i class="fas fa-language"></i> Arabic</span>
        <p class="subject" dir="rtl" style="text-align:right;"><i class="fas fa-envelope"></i> الموضوع: الصباح يستحق الترف</p>
        <div class="analysis" dir="rtl" style="text-align:right;">
            <strong>الهدف:</strong> عرض المنتجات الرئيسية بلغة حسية ومحفزة للشراء (كريمي، عطري، ترف خالص). التحليل: تفاعل قوي، حيث يتجاوز معدل النقر نظيره الإنجليزي، مما يدل على نجاح الترجمة في نقل الإحساس.
        </div>
        <div class="copy-text" dir="rtl" style="text-align:right;">في هكسوس، نؤمن أن الصباح يستحق لحظات من الترف الخالص.<br>• لاتيه هيرو: كريمي وعطري، وتوازن مثالي من النكهات.<br>• كرواسون الشوكولاتة: طبقات معجنات مع الشوكولاتة الغنية.</div>
        <div style="margin-top:15px;">
            <div class="metric-item"><span class="metric-label">Open Rate:</span> <span class="metric-value">43.2%</span></div>
            <div class="metric-item"><span class="metric-label">CTR:</span> <span class="metric-value">6.8%</span></div>
            <div class="metric-item"><span class="metric-label">Conversion Rate:</span> <span class="metric-value">4.0%</span></div>
        </div>
    </div>

    <div class="email-card">
        <h4>عرض حصري (3/6)</h4>
        <span class="language-tag"><i class="fas fa-language"></i> Arabic</span>
        <p class="subject" dir="rtl" style="text-align:right;"><i class="fas fa-envelope"></i> الموضوع: استمتع بعرضنا المحدود لترقية صباحك</p>
        <div class="analysis" dir="rtl" style="text-align:right;">
            <strong>الهدف:</strong> تحفيز الزيارة الفورية عبر العروض المحدودة والقيمة المضافة (ترقية مجانية). التحليل: أعلى معدل تحويل بين رسائل العروض، مما يشير إلى أن العرض كان جذابًا للغاية للجمهور العربي.
        </div>
        <div class="copy-text" dir="rtl" style="text-align:right;">استمتع بعرضنا المحدود لترقية صباحك.<br>• تجربة لاتيه هيرو: ترقية مجانية مع أي لاتيه.<br>• متعة كرواسون الشوكولاتة: كرواسون ثانٍ بخصم 50%.</div>
        <div style="margin-top:15px;">
            <div class="metric-item"><span class="metric-label">Open Rate:</span> <span class="metric-value">46.5%</span></div>
            <div class="metric-item"><span class="metric-label">CTR:</span> <span class="metric-value">5.8%</span></div>
            <div class="metric-item"><span class="metric-label">Conversion Rate:</span> <span class="metric-value">8.2%</span></div>
        </div>
    </div>

    <div class="email-card">
        <h4>دعوة للولاء (4/6)</h4>
        <span class="language-tag"><i class="fas fa-language"></i> Arabic</span>
        <p class="subject" dir="rtl" style="text-align:right;"><i class="fas fa-envelope"></i> الموضوع: انضم إلى ولاء هكسوس: افتح وضع كبار الشخصيات</p>
        <div class="analysis" dir="rtl" style="text-align:right;">
            <strong>الهدف:</strong> تحويل المشتركين المتفاعلين إلى أعضاء ولاء دائمين. التركيز على المزايا طويلة المدى. التحليل: معدل التحويل هو الأفضل على الإطلاق، حيث يبلغ 11.1٪، مما يؤكد أن برنامج الولاء كان ناجحًا للغاية.
        </div>
        <div class="copy-text" dir="rtl" style="text-align:right;">ارتقِ بصباحك مع ولاء هكسوس.<br>• نقاط على كل عملية شراء: اكسب مكافآت قيمة.<br>• وصول مبكر: اكتشف العروض الجديدة أولاً.<br>• فعاليات حصرية: تذوق خاص وورش عمل.</div>
        <div style="margin-top:15px;">
            <div class="metric-item"><span class="metric-label">Open Rate:</span> <span class="metric-value">41.1%</span></div>
            <div class="metric-item"><span class="metric-label">CTR:</span> <span class="metric-value">7.8%</span></div>
            <div class="metric-item"><span class="metric-label">Conversion Rate:</span> <span class="metric-value">11.1%</span></div>
        </div>
    </div>

    <div class="email-card">
        <h4>تسليط الضوء (5/6)</h4>
        <span class="language-tag"><i class="fas fa-language"></i> Arabic</span>
        <p class="subject" dir="rtl" style="text-align:right;"><i class="fas fa-envelope"></i> الموضوع: لماذا يختار الضيوف هكسوس (الدليل الاجتماعي)</p>
        <div class="analysis" dir="rtl" style="text-align:right;">
            <strong>الهدف:</strong> استخدام الدليل الاجتماعي (شهادات) لبناء الثقة وترسيخ صورة العلامة التجارية الفاخرة. التحليل: معدل النقر هو الأفضل في هذه المرحلة، مما يبرهن على فعالية إبراز تجارب العملاء.
        </div>
        <div class="copy-text" dir="rtl" style="text-align:right;">اكتشف لماذا يختار الضيوف هكسوس لبدء يومهم — شهادات الضيوف وتجاربهم.</div>
        <div style="margin-top:15px;">
            <div class="metric-item"><span class="metric-label">Open Rate:</span> <span class="metric-value">43.8%</span></div>
            <div class="metric-item"><span class="metric-label">CTR:</span> <span class="metric-value">6.1%</span></div>
            <div class="metric-item"><span class="metric-label">Conversion Rate:</span> <span class="metric-value">3.5%</span></div>
        </div>
    </div>

    <div class="email-card">
        <h4>تذكير شروق الشمس (6/6)</h4>
        <span class="language-tag"><i class="fas fa-language"></i> Arabic</span>
        <p class="subject" dir="rtl" style="text-align:right;"><i class="fas fa-envelope"></i> الموضوع: لا تفوت تجربة الأناقة</p>
        <div class="analysis" dir="rtl" style="text-align:right;">
            <strong>الهدف:</strong> استخدام عامل الاستعجال النهائي لجذب آخر شريحة من المشتركين. التحليل: نجاح في تحصيل التحويلات الأخيرة وتفوق في معدل التحويل النهائي على النسخة الإنجليزية.
        </div>
        <div class="copy-text" dir="rtl" style="text-align:right;">لا تفوت الفرصة لتجربة الأناقة والنكهات والفخامة — اشترك في برنامج الولاء الآن.</div>
        <div style="margin-top:15px;">
            <div class="metric-item"><span class="metric-label">Open Rate:</span> <span class="metric-value">44.9%</span></div>
            <div class="metric-item"><span class="metric-label">CTR:</span> <span class="metric-value">4.5%</span></div>
            <div class="metric-item"><span class="metric-label">Conversion Rate:</span> <span class="metric-value">5.2%</span></div>
        </div>
    </div>
</div>
</section>

<section id="dashboard" class="panel fade-section">
    <h2>Campaign Performance Dashboard</h2>

    <div class="currency-toggle">
        <input type="radio" id="usd-radio" name="currency" value="USD" checked><label for="usd-radio">USD</label>
        <input type="radio" id="egp-radio" name="currency" value="EGP"><label for="egp-radio">EGP</label>
    </div>

    <div id="full-dashboard">
        <div class="dashboard-section">
            <h3>Key Financial Metrics (Campaign Duration)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>Total Value</th>
                        <th>% Change vs. Prior Period</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Total Revenue</td>
                        <td id="total-revenue">$108,000 / EGP 3,330,000</td>
                        <td>+411%</td>
                    </tr>
                    <tr>
                        <td>New Customer Revenue</td>
                        <td id="new-customer-revenue">$43,200 / EGP 1,332,000</td>
                        <td>+520%</td>
                    </tr>
                    <tr>
                        <td>Total Ad Spend (Meta + TikTok)</td>
                        <td id="total-ad-spend">$26,300 / EGP 810,000</td>
                        <td>+380%</td>
                    </tr>
                    <tr>
                        <td>Cost Per Acquisition (CPA)</td>
                        <td id="cpa-value">$24.5 / EGP 756</td>
                        <td>-21%</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="dashboard-section charts">
            <div class="chart card">
                <h4>Weekly Revenue Breakdown</h4>
                <canvas id="revenueChart"></canvas>
            </div>
            <div class="chart card">
                <h4>Loyalty vs. One-Time Revenue</h4>
                <canvas id="loyaltyChart"></canvas>
            </div>
        </div>

        <div class="dashboard-section charts">
            <div class="chart card">
                <h4>Platform Engagement Rate</h4>
                <canvas id="engagementChart"></canvas>
            </div>
            <div class="chart card">
                <h4>Email Campaign Performance (Overall)</h4>
                <canvas id="emailChart"></canvas>
            </div>
        </div>

        <div class="dashboard-section">
            <h3>Customer Loyalty Metrics</h3>
            <div class="table-wrap">
                <table>
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Value</th>
                            <th>Target Benchmark</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Loyalty Program Sign-ups</td>
                            <td>1,070</td>
                            <td>800</td>
                            <td>Exceeded</td>
                        </tr>
                        <tr>
                            <td>Repeat Purchase Rate (Loyalty Members)</td>
                            <td>68%</td>
                            <td>60%</td>
                            <td>Exceeded</td>
                        </tr>
                        <tr>
                            <td>Average Order Value (Loyalty Members)</td>
                            <td id="aov-loyalty">EGP 345</td>
                            <td>EGP 300</td>
                            <td>Exceeded</td>
                        </tr>
                        <tr>
                            <td>Churn Rate</td>
                            <td>12%</td>
                            <td>15%</td>
                            <td>Met</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <script>
            // Data for charts/tables
            const REVENUE_DATA = [50000, 75000, 100000, 105000, 95000, 110000]; // EGP
            const LOYALTY_DATA = [2600000, 730000]; // EGP [Loyalty, One-Time]
            const PLATFORM_ENGAGEMENT = [12.5, 9.8, 11.6]; // Meta, TikTok, Instagram
            const EMAIL_METRICS = [43.5, 5.2, 4.8]; // Open Rate, CTR, Conversion Rate

            // Currency conversion rate (Example rate for simulation)
            const EGP_RATE = 30.8;

            // Initialize charts and tables
            const chartConfigs = {
                // ... (Chart configurations are omitted for brevity but remain in the original JS)
            };
        </script>
    </div>
</section>

<section id="professional-summary" class="panel fade-section">
    <h2>Professional Summary of Campaign Success</h2>

    <div class="case-hero" style="align-items: center;">
        <div class="case-left">
            <p class="muted">The Haksoss Café campaign successfully combined sensory creative assets with a data-driven, conversion-focused strategy to achieve substantial growth in a highly competitive market.</p>

            <ul class="professional-list">
                <li>**Strategy & Execution:** A bilingual (English/Arabic) content plan ensured high cultural relevance, maximizing reach in Alexandria’s diverse demographics.</li>
                <li>**Creative Focus:** Emphasis on high-end photography of the Hero Latte and Chocolate Croissant drove strong initial ad click-through rates (CTR).</li>
                <li>**Loyalty Engine:** The email automation funnel proved to be the highest-converting segment, culminating in a **9.8%** English and **11.1%** Arabic loyalty sign-up conversion rate from initial email open.</li>
                <li>**Measured ROI:** The final return on investment (ROI) of **411%** far exceeded the initial 200% target, validating the premium positioning and execution quality.</li>
            </ul>

            <h3 id="advanced-strategy" style="margin-top:25px;">Advanced Strategy Breakdown</h3>
            <p>The core success lay in applying AI-driven audience modeling to target "Luxury Morning Seekers" and deploying sequential email nurturing to convert leads into lifetime customers.</p>
        </div>

        <div class="case-right" style="max-width: 500px; max-width: 55%; position: unset;">
            <div id="ai-metrics" class="stat" style="min-width: unset; text-align: center;">
                <h3 style="border-bottom: 1px solid rgba(57, 142, 191, 0.4); padding-bottom: 10px; margin-bottom: 10px; color: var(--deep);">AI Audience Model Accuracy</h3>
                <div style="display: flex; justify-content: space-around; gap: 10px;">
                    <div style="flex: 1;">
                        <div class="num">92%</div>
                        <div class="lab">Prediction Accuracy</div>
                    </div>
                    <div style="flex: 1;">
                        <div class="num">15%</div>
                        <div class="lab">CPA Reduction</div>
                    </div>
                </div>
                <p style="font-size: 0.85rem; margin-top: 15px; color: var(--primary-blue);">Model was trained on 6 months of historical luxury consumer data to optimize ad placement.</p>
            </div>
        </div>
    </div>
</section>


</div></div><footer role="contentinfo">
    <div class="footer-wrap">
        <div class="footer-info">
            <p class="author-name">Designed and executed by <strong class="signature">Moe Abdelrazek</strong></p>
            <div class="footer-links" aria-label="Social Media Links">
                <a href="#" target="_blank" title="LinkedIn"><i class="fab fa-linkedin"></i></a>
                <a href="#" target="_blank" title="Behance"><i class="fab fa-behance-square"></i></a>
                <a href="#" target="_blank" title="GitHub"><i class="fab fa-github-square"></i></a>
            </div>
        </div>
        <div class="footer-meta">
            <span>Haksoss Campaign Case Study</span>
            <span class="divider">|</span>
            <span>2024</span>
            <span class="divider">|</span>
            <span>All Rights Reserved</span>
        </div>
    </div>
</footer>

<script>
// =======================================
// JAVASCRIPT FOR SCROLL/CHART ANIMATIONS
// =======================================

// Intersection Observer for scroll animations
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('inview');
            // Stop observing once it's in view if it's a permanent animation
            if (!entry.target.classList.contains('fade-section')) {
                observer.unobserve(entry.target);
            }
        }
    });
}, { threshold: 0.1 }); // Trigger when 10% of the element is visible

document.querySelectorAll('.panel, .tile, .stat, .email-card').forEach(element => {
    observer.observe(element);
});

// Intro Animation
document.addEventListener('DOMContentLoaded', () => {
    const overlay = document.getElementById('intro-overlay');
    document.body.classList.add('intro-active');

    // Simulate load time, then fade out
    setTimeout(() => {
        overlay.style.opacity = '0';
        overlay.style.pointerEvents = 'none';

        // Remove overlay completely after transition
        setTimeout(() => {
            overlay.remove();
            document.body.classList.remove('intro-active');
        }, 1200); // Should match the CSS transition duration
    }, 1500); // Display time
});

// =======================================
// JAVASCRIPT FOR DASHBOARD FUNCTIONALITY
// =======================================
(function() {
    const revenueData = REVENUE_DATA;
    const loyaltyData = LOYALTY_DATA;
    const platformEngagement = PLATFORM_ENGAGEMENT;
    const emailMetrics = EMAIL_METRICS;
    const EGP_RATE = 30.8; // Example exchange rate

    let currentCurrency = 'USD'; // Default

    // Chart instances
    let revenueChartInstance;
    let loyaltyChartInstance;
    let engagementChartInstance;
    let emailChartInstance;

    function createOrUpdateChart(ctx, config, instance) {
        if (instance) {
            instance.data.labels = config.data.labels;
            instance.data.datasets = config.data.datasets;
            instance.options = config.options;
            instance.update();
            return instance;
        } else {
            return new Chart(ctx, config);
        }
    }

    function generateChartConfigs(isUSD) {
        const currencySymbol = isUSD ? '$' : 'EGP ';
        const multiplier = isUSD ? 1 / EGP_RATE : 1;
        const colorPrimary = getComputedStyle(document.documentElement).getPropertyValue('--primary-blue').trim();
        const colorAccent = getComputedStyle(document.documentElement).getPropertyValue('--accent').trim();

        return {
            revenue: {
                type: 'line',
                data: {
                    labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6'],
                    datasets: [{
                        label: 'Revenue',
                        data: revenueData.map(d => d * multiplier),
                        borderColor: colorAccent,
                        backgroundColor: 'rgba(244, 162, 97, 0.2)',
                        tension: 0.3,
                        pointRadius: 5,
                        pointBackgroundColor: colorAccent
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: { beginAtZero: true, ticks: { callback: (val) => currencySymbol + val.toLocaleString() } }
                    },
                    plugins: { tooltip: { callbacks: { label: (context) => context.dataset.label + ': ' + currencySymbol + context.parsed.y.toLocaleString() } } }
                }
            },
            loyalty: {
                type: 'pie',
                data: {
                    labels: ['Loyalty Member Revenue', 'One-Time Customer Revenue'],
                    datasets: [{
                        data: loyaltyData.map(d => d * multiplier),
                        backgroundColor: [colorPrimary, colorAccent],
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        tooltip: { callbacks: { label: (context) => context.label + ': ' + currencySymbol + context.parsed.toLocaleString() } }
                    }
                }
            },
            engagement: {
                type: 'bar',
                data: {
                    labels: ['Meta (FB/IG)', 'TikTok', 'Instagram Stories'],
                    datasets: [{
                        label: 'Engagement Rate (%)',
                        data: platformEngagement,
                        backgroundColor: [colorPrimary, colorAccent, colorPrimary],
                    }]
                },
                options: {
                    responsive: true,
                    scales: { y: { beginAtZero: true, max: 15, ticks: { callback: (val) => val + '%' } } },
                    plugins: { tooltip: { callbacks: { label: (context) => context.dataset.label + ': ' + context.parsed.y + '%' } } }
                }
            },
            email: {
                type: 'radar',
                data: {
                    labels: ['Open Rate (%)', 'CTR (%)', 'Conversion Rate (%)'],
                    datasets: [{
                        label: 'Campaign Averages',
                        data: emailMetrics,
                        backgroundColor: 'rgba(57, 142, 191, 0.2)',
                        borderColor: colorPrimary,
                        pointBackgroundColor: colorPrimary,
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: colorPrimary
                    }]
                },
                options: {
                    responsive: true,
                    scales: { r: { suggestedMin: 0, suggestedMax: 50, ticks: { backdropColor: 'transparent', color: 'rgba(0, 76, 109, 0.7)' } } },
                    plugins: { legend: { display: false } }
                }
            }
        };
    }

    function updateCharts(isUSD) {
        const configs = generateChartConfigs(isUSD);
        const currencySymbol = isUSD ? '$' : 'EGP ';

        revenueChartInstance = createOrUpdateChart(document.getElementById('revenueChart').getContext('2d'), configs.revenue, revenueChartInstance);
        loyaltyChartInstance = createOrUpdateChart(document.getElementById('loyaltyChart').getContext('2d'), configs.loyalty, loyaltyChartInstance);
        engagementChartInstance = createOrUpdateChart(document.getElementById('engagementChart').getContext('2d'), configs.engagement, engagementChartInstance);
        emailChartInstance = createOrUpdateChart(document.getElementById('emailChart').getContext('2d'), configs.email, emailChartInstance);

        // Update table values
        const totalRevenueEGP = revenueData.reduce((a, b) => a + b, 0);
        const totalRevenueUSD = totalRevenueEGP / EGP_RATE;
        const totalRevenueDisplay = isUSD
            ? currencySymbol + totalRevenueUSD.toLocaleString(undefined, { maximumFractionDigits: 0 })
            : currencySymbol + totalRevenueEGP.toLocaleString(undefined, { maximumFractionDigits: 0 });

        const newCustomerRevenueEGP = 1332000;
        const newCustomerRevenueUSD = newCustomerRevenueEGP / EGP_RATE;
        const newCustomerRevenueDisplay = isUSD
            ? currencySymbol + newCustomerRevenueUSD.toLocaleString(undefined, { maximumFractionDigits: 0 })
            : currencySymbol + newCustomerRevenueEGP.toLocaleString(undefined, { maximumFractionDigits: 0 });

        const totalAdSpendEGP = 810000;
        const totalAdSpendUSD = totalAdSpendEGP / EGP_RATE;
        const totalAdSpendDisplay = isUSD
            ? currencySymbol + totalAdSpendUSD.toLocaleString(undefined, { maximumFractionDigits: 0 })
            : currencySymbol + totalAdSpendEGP.toLocaleString(undefined, { maximumFractionDigits: 0 });

        const cpaEGP = 756;
        const cpaUSD = cpaEGP / EGP_RATE;
        const cpaDisplay = isUSD
            ? currencySymbol + cpaUSD.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })
            : currencySymbol + cpaEGP.toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 0 });

        const aovLoyaltyEGP = 345;
        const aovLoyaltyUSD = aovLoyaltyEGP / EGP_RATE;
        const aovLoyaltyDisplay = isUSD
            ? currencySymbol + aovLoyaltyUSD.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })
            : currencySymbol + aovLoyaltyEGP.toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 0 });


        document.getElementById('total-revenue').textContent = totalRevenueDisplay;
        document.getElementById('new-customer-revenue').textContent = newCustomerRevenueDisplay;
        document.getElementById('total-ad-spend').textContent = totalAdSpendDisplay;
        document.getElementById('cpa-value').textContent = cpaDisplay;
        document.getElementById('aov-loyalty').textContent = aovLoyaltyDisplay;

    }

    // Initial load: calculate and display everything
    updateCharts(true);

    // Currency toggle
    document.querySelectorAll('#full-dashboard input[name="currency"]').forEach(radio=>{
        radio.addEventListener('change', e=>{
            const isUSD = e.target.value === 'USD';
            updateCharts(isUSD);
        });
    });

})();


// Music control
document.getElementById('music-control').addEventListener('click', function() {
    const audio = document.getElementById('bg-music');
    if (audio.paused) {
        audio.play().then(() => {
            this.textContent = 'Pause Music';
            this.setAttribute('aria-pressed', 'true');
        }).catch(error => {
            console.warn("Autoplay was prevented. User must interact first.", error);
            // Optionally change text back if playing failed
            this.textContent = 'Play Music';
            this.setAttribute('aria-pressed', 'false');
        });
    } else {
        audio.pause();
        this.textContent = 'Play Music';
        this.setAttribute('aria-pressed', 'false');
    }
});
</script>
</body>
</html>
