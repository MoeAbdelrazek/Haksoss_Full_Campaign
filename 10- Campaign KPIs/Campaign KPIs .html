<section id="campaign-kpis" class="budget-section">
  <h2 class="section-title">Campaign KPIs — Performance Dashboard</h2>
  <p class="section-intro">
    A meticulously tracked overview of Haksoss Café’s campaign performance, combining quantitative insights with channel-level analysis. Metrics reflect reach, loyalty growth, conversion optimization, ROAS, AOV, and Customer LTV.
  </p>

  <div class="charts-grid">

    <!-- Icon card: Reach -->
    <div class="chart-box">
      <h3>Reach</h3>
      <p style="font-size:22px; margin:10px 0;">
        <span style="color:#FFD700;">&#128064;</span> 80,800 / 70,000
      </p>
      <p style="font-size:16px; color:#6b4f44;">+15% above target, driven by 72 high-performing Reels and 15 influencer activations</p>
    </div>

    <!-- Icon card: Loyalty Sign-ups -->
    <div class="chart-box">
      <h3>Loyalty Sign-ups</h3>
      <p style="font-size:22px; margin:10px 0;">
        <span style="color:#FFD700;">&#128101;</span> 1,070 / 1,000
      </p>
      <p style="font-size:16px; color:#6b4f44;">+7% above target via frictionless forms & VIP incentive adoption</p>
    </div>

    <!-- Icon card: Conversion Rate -->
    <div class="chart-box">
      <h3>Conversion Rate</h3>
      <p style="font-size:22px; margin:10px 0;">
        <span style="color:#FFD700;">&#128200;</span> 6.2% / 5%
      </p>
      <p style="font-size:16px; color:#6b4f44;">+24% above baseline through optimized landing pages and dynamic retargeting</p>
    </div>

    <!-- Chart card: ROAS -->
    <div class="chart-box">
      <h3>ROAS by Channel</h3>
      <canvas id="roasChart"></canvas>
      <p style="font-size:16px; color:#6b4f44; margin-top:8px;">
        Paid social dominated (4.5x), followed by Influencer campaigns (4.2x), confirming effective budget allocation
      </p>
    </div>

    <!-- Chart card: Avg Order Value -->
    <div class="chart-box">
      <h3>Average Order Value (EGP)</h3>
      <canvas id="aovChart"></canvas>
      <p style="font-size:16px; color:#6b4f44; margin-top:8px;">
        AOV improved 15% above target due to upsell bundles and premium product promotions
      </p>
    </div>

    <!-- Chart card: Customer LTV -->
    <div class="chart-box">
      <h3>Customer LTV (EGP)</h3>
      <canvas id="ltvChart"></canvas>
      <p style="font-size:16px; color:#6b4f44; margin-top:8px;">
        LTV increased 25%, reflecting retention-focused strategies and loyalty program engagement
      </p>
    </div>

  </div>

  <h3 class="section-subtitle">Key Insights</h3>
  <ul class="insights-list">
    <li>Total campaign reach exceeded target by 15%, largely attributed to viral Reels and 15 key influencer activations.</li>
    <li>Loyalty sign-ups surpassed goal by 7%, driven by optimized signup flow and targeted VIP incentives.</li>
    <li>Conversion rate improved 24% above baseline, thanks to A/B tested landing pages and personalized retargeting.</li>
    <li>Channel-level ROAS ranged 3.8–4.5, confirming precise budget allocation across Instagram/TikTok, SEM, Email/CRM, and Influencer campaigns.</li>
    <li>Average Order Value increased 15% through upsells, cross-sells, and limited-time bundles.</li>
    <li>Customer LTV grew 25% due to retention flows, VIP program adoption, and repeat purchase behavior.</li>
  </ul>
</section>

<script>
  const roasCtx = document.getElementById('roasChart').getContext('2d');
  new Chart(roasCtx, {
    type: 'bar',
    data: {
      labels: ['Instagram/TikTok','Google SEM','Email/CRM','Landing Pages','Influencers'],
      datasets: [{
        label: 'ROAS',
        data: [4.5, 3.9, 3.8, 4.0, 4.2],
        backgroundColor: ['#FFD700','#C19A6B','#FFD700','#C19A6B','#FFD700']
      }]
    },
    options: {
      responsive:true,
      plugins:{
        legend:{ display:false },
        tooltip:{ callbacks:{ label: ctx => `ROAS: ${ctx.raw}x` } }
      },
      scales:{ y:{ beginAtZero:true } },
      animation:{ duration:1200 }
    }
  });

  const aovCtx = document.getElementById('aovChart').getContext('2d');
  new Chart(aovCtx, {
    type: 'bar',
    data: {
      labels: ['Target','Actual'],
      datasets: [{
        label:'Average Order Value',
        data:[100,115],
        backgroundColor:['#C19A6B','#FFD700']
      }]
    },
    options: {
      responsive:true,
      plugins:{ legend:{ display:false }, tooltip:{ callbacks:{ label: ctx => `EGP ${ctx.raw}` } } },
      scales:{ y:{ beginAtZero:true } },
      animation:{ duration:1200 }
    }
  });

  const ltvCtx = document.getElementById('ltvChart').getContext('2d');
  new Chart(ltvCtx, {
    type: 'bar',
    data: {
      labels: ['Target','Actual'],
      datasets: [{
        label:'Customer LTV',
        data:[500,625],
        backgroundColor:['#C19A6B','#FFD700']
      }]
    },
    options: {
      responsive:true,
      plugins:{ legend:{ display:false }, tooltip:{ callbacks:{ label: ctx => `EGP ${ctx.raw}` } } },
      scales:{ y:{ beginAtZero:true } },
      animation:{ duration:1200 }
    }
  });
</script>
